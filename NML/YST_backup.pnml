/*--------------------------------------------------------------------
	YST 열차세트
--------------------------------------------------------------------*/
/*-------------------------------------------------------------------- 
* 기본정보
--------------------------------------------------------------------*/
grf {
	grfid: "YSN2";
	name: string(STR_GRF_NAME_WITH_VER);
	desc: string(STR_GRF_DESC);
	version: 9;
	min_compatible_version: 8;
    
/*--------------------------------------------------------------------
1. 매개변수

사용안함.
param 1 {
		coeff_cargo_capacity_factor {
			type: int;
			name: string(STR_PARAM_CARGO_CAPACITY_NAME);
			desc: string(STR_PARAM_CARGO_CAPACITY_DESC);
			min_value: 0;
			max_value: 2;
			def_value: 0;
			names: {
				0:	string(STR_PARAM_OPT_FACTOR_BY_1);
				1:	string(STR_PARAM_OPT_FACTOR_BY_2);
				2:	string(STR_PARAM_OPT_FACTOR_BY_3);
			};
		}
		}
        
//수송량
	 
    param 1 {
		coeff_speed_AGV {
			type: int;
			name: string(STR_PARAM_AGV_SPEED_NAME);
			desc: string(STR_PARAM_AGV_SPEED_DESC);
			min_value: 330;
			max_value: 597;
			def_value: 330;
			}
		}
--------------------------------------------------------------------*/
}

/*--------------------------------------------------------------------
2. 공통 Template
--------------------------------------------------------------------*/
// Template - Purchase image
template tmpl_purchase_detail(x, y, w, h, offX, offY) {
    [   0,    0,    1,    1,    0,    0]
    [   0,    0,    1,    1,    0,    0]
    [   0,    0,    1,    1,    0,    0]
    [   0,    0,    1,    1,    0,    0]
    [   0,    0,    1,    1,    0,    0]
    [   0,    0,    1,    1,    0,    0]
    [   x,    y,    w,    h, offX, offY]
    [   0,    0,    1,    1,    0,    0]
}

template tmpl_purchase_for_dualhead(x, y) {
    tmpl_purchase_detail(x, y, 50, 14, -23, -7)
}

template tmpl_purchase(x, y) {
    tmpl_purchase_detail(x, y, 50, 14, -10, -7)
}

template tmpl_wagon_purchase(x, y) {
    tmpl_purchase_detail(x, y, 50, 14, -23, -7)
}

/*--------------------------------------------------------------------
3. 공통 Template
--------------------------------------------------------------------*/
template engine(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
}

template engine_r(x, y) {
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
}

template wagon_1F(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
}

template wagon_1F_r(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
}

template wagon_1F_F(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
}

template wagon_2F(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
}

template wagon_2F_r(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
}

template wagon_panto(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
}

template wagon_start(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
}

template wagon_bar(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
}

template wagon_end(x, y) {
    [x,       y,    8,     22,    -3,   -14]
    [x+13,    y,    21,    18,    -14,   -9]
    [x+39,    y,    32,    14,    -18,  -10]
    [x+76,    y,    21,    18,    -6,   -10]
    [x+102,   y,    8,     22,    -3,   -14]
    [x+115,   y,    21,    18,    -14,   -9]
    [x+141,   y,    32,    14,    -18,  -10]
    [x+178,   y,    21,    18,    -6,   -10]
}

/*--------------------------------------------------------------------
4. 공통 스위치
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
4.1. 최소 6량이상 편성
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YST_train_start_stop, num_vehs_in_consist >= 6) {
    1: return CB_RESULT_NO_TEXT;
    return string(STR_ERROR_NOT_ENOUGH_LENGTH6);
}

/*--------------------------------------------------------------------
4.2. 공통객차 텍스트
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Passenger_wagon_cargo_subtype_text, vehicle_type_id) {
    return CB_RESULT_NO_TEXT;
}

/*--------------------------------------------------------------------
5. 열차 Graphics
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.1. YST 공통 1층 객차
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.1.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_1F_wagon, "..\YSTset\Graphic\wagon\passenger_wagon.png") {
    wagon_1F(60, 0)
}

spriteset(set_1F_wagon_r, "..\YSTset\Graphic\wagon\passenger_wagon.png") {
    wagon_1F_r(60, 0)
}

/*--------------------------------------------------------------------
5.1.2. 구매정보
--------------------------------------------------------------------*/
spriteset(set_1F_wagon_purchase, "..\YSTset\Graphic\wagon\passenger_wagon.png"){
	tmpl_wagon_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.1.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Passenger_1F_wagon_middle_front, cargo_subtype) {
    set_1F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_Passenger_1F_wagon_middle_tail, cargo_subtype) {
    set_1F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_Passenge_1F_wagon, (position_in_vehid_chain + 1) <= (num_vehs_in_vehid_chain / 2)) {
    1: sw_Passenger_1F_wagon_middle_front;
    sw_Passenger_1F_wagon_middle_tail;
}

/*--------------------------------------------------------------------
5.1.4. 열차정보
--------------------------------------------------------------------*/
item (FEAT_TRAINS, YST_Passinger_Car){
	property {
 		name:							string(STR_YST_PASSINGER_NAME);
 		climates_available:				ALL_CLIMATES;
		track_type:						RAIL;
		power:							0;
		weight:							20 ton;
		extra_weight_per_wagon:			20 ton;
		tractive_effort_coefficient:	0.3;
		cargo_capacity:					50;
		loading_speed:					25;
		vehicle_life:					255;
		introduction_date:				date(1978, 1, 1);
		model_life:						VEHICLE_NEVER_EXPIRES;
		retire_early:					0;
		reliability_decay:				0;
		cost_factor:					10;
		running_cost_base:				RUNNING_COST_ELECTRIC;
		running_cost_factor:			50;
		refit_cost:						0;
		engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
		misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
		refittable_cargo_classes:		bitmask(CC_PASSENGERS);
		non_refittable_cargo_classes:	bitmask();}

	graphics {
		default:						sw_Passenge_1F_wagon;
		purchase:						set_1F_wagon_purchase;
        cargo_subtype_text:             sw_Passenger_wagon_cargo_subtype_text;
        }
    }

/*--------------------------------------------------------------------
5.2. YST 공통 2층 객차
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.2.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_2F_wagon, "..\YSTset\Graphic\wagon\passenger_wagon.png") {
    wagon_1F(60, 27)
}

spriteset(set_2F_wagon_r, "..\YSTset\Graphic\wagon\passenger_wagon.png") {
    wagon_1F_r(60, 27)
}

/*--------------------------------------------------------------------
5.2.2. 구매정보
--------------------------------------------------------------------*/
spriteset(set_2F_wagon_purchase, "..\YSTset\Graphic\wagon\passenger_wagon.png"){
	tmpl_wagon_purchase(0, 27)
}

/*--------------------------------------------------------------------
5.2.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Passenger_2F_wagon_middle_front, cargo_subtype) {
    set_2F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_Passenger_2F_wagon_middle_tail, cargo_subtype) {
    set_2F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_Passenge_2F_wagon, (position_in_vehid_chain + 1) <= (num_vehs_in_vehid_chain / 2)) {
    1: sw_Passenger_2F_wagon_middle_front;
    sw_Passenger_2F_wagon_middle_tail;
}

/*--------------------------------------------------------------------
5.2.4. 열차정보
--------------------------------------------------------------------*/
item (FEAT_TRAINS, YST_Passinger_2F_Car){
	property {
 		name:							string(STR_YST_PASSINGER2F_NAME);
 		climates_available:				ALL_CLIMATES;
		track_type:						RAIL;
		power:							0;
		weight:							20 ton;
		extra_weight_per_wagon:			20 ton;
		tractive_effort_coefficient:	0.3;
		cargo_capacity:					100;
		loading_speed:					25;
		vehicle_life:					255;
		introduction_date:				date(2020, 1, 1);
		model_life:						VEHICLE_NEVER_EXPIRES;
		retire_early:					0;
		reliability_decay:				0;
		cost_factor:					10;
		running_cost_base:				RUNNING_COST_ELECTRIC;
		running_cost_factor:			50;
		refit_cost:						0;
		engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
		misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
		refittable_cargo_classes:		bitmask(CC_PASSENGERS);
		non_refittable_cargo_classes:	bitmask();}

	graphics {
		default:						sw_Passenge_2F_wagon;
		purchase:						set_2F_wagon_purchase;
        cargo_subtype_text:             sw_Passenger_wagon_cargo_subtype_text;
        }
    }

/*--------------------------------------------------------------------
5.3. 신칸센 500계
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.3.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_500_purchase, "..\YSTset\Graphic\locomotive\500\500.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.3.1.1. 신칸센 500계
--------------------------------------------------------------------*/
spriteset(set_500H_purchase, "..\YSTset\Graphic\locomotive\500\500.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_500_engineH, "..\YSTset\Graphic\locomotive\500\500.png"){
	engine(60, 0)
}

spriteset(set_500_wagon_start, "..\YSTset\Graphic\locomotive\500\500.png"){
	wagon_panto(60, 27)
}

spriteset(set_500_wagon, "..\YSTset\Graphic\locomotive\500\500.png") {
    wagon_1F(60, 54)
}

spriteset(set_500_wagon_r, "..\YSTset\Graphic\locomotive\500\500.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_500_wagon_end, "..\YSTset\Graphic\locomotive\500\500.png"){
	wagon_panto(60, 81)
}

spriteset(set_500_engineT, "..\YSTset\Graphic\locomotive\500\500.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.3.1.2. 신칸센 500계 Cool
--------------------------------------------------------------------*/
spriteset(set_500_CoolH_purchase, "..\YSTset\Graphic\locomotive\500\500_Cool.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_500_Cool_engineH, "..\YSTset\Graphic\locomotive\500\500_Cool.png"){
	engine(60, 0)
}

spriteset(set_500_Cool_wagon_start, "..\YSTset\Graphic\locomotive\500\500_Cool.png"){
	wagon_panto(60, 27)
}

spriteset(set_500_Cool_wagon, "..\YSTset\Graphic\locomotive\500\500_Cool.png") {
    wagon_1F(60, 54)
}

spriteset(set_500_Cool_wagon_r, "..\YSTset\Graphic\locomotive\500\500_Cool.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_500_Cool_wagon_end, "..\YSTset\Graphic\locomotive\500\500_Cool.png"){
	wagon_panto(60, 81)
}

spriteset(set_500_Cool_engineT, "..\YSTset\Graphic\locomotive\500\500_Cool.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.3.1.3. 신칸센 500계 산천
--------------------------------------------------------------------*/
spriteset(set_500_SancheonH_purchase, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_500_Sancheon_engineH, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png"){
	engine(60, 0)
}

spriteset(set_500_Sancheon_wagon_start, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png"){
	wagon_panto(60, 27)
}

spriteset(set_500_Sancheon_wagon, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png") {
    wagon_1F(60, 54)
}

spriteset(set_500_Sancheon_wagon_r, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_500_Sancheon_wagon_end, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png"){
	wagon_panto(60, 81)
}

spriteset(set_500_Sancheon_engineT, "..\YSTset\Graphic\locomotive\500\500_Sancheon.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.3.1.4. 신칸센 500계 팥죽
--------------------------------------------------------------------*/
spriteset(set_500_PatjugH_purchase, "..\YSTset\Graphic\locomotive\500\500_Patjug.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_500_Patjug_engineH, "..\YSTset\Graphic\locomotive\500\500_Patjug.png"){
	engine(60, 0)
}

spriteset(set_500_Patjug_wagon_start, "..\YSTset\Graphic\locomotive\500\500_Patjug.png"){
	wagon_panto(60, 27)
}

spriteset(set_500_Patjug_wagon, "..\YSTset\Graphic\locomotive\500\500_Patjug.png") {
    wagon_1F(60, 54)
}

spriteset(set_500_Patjug_wagon_r, "..\YSTset\Graphic\locomotive\500\500_Patjug.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_500_Patjug_wagon_end, "..\YSTset\Graphic\locomotive\500\500_Patjug.png"){
	wagon_panto(60, 81)
}

spriteset(set_500_Patjug_engineT, "..\YSTset\Graphic\locomotive\500\500_Patjug.png"){
	engine_r(60, 108)
}


/*--------------------------------------------------------------------
5.3.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_500_purchase, cargo_subtype) {
    set_500_purchase;
}

/*--------------------------------------------------------------------
5.3.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_500_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_500C);   // Cool
    2: return string(STR_REFIT_LIVERY_500S);   // 산천
    3: return string(STR_REFIT_LIVERY_500P);   // 팥죽
    return string(STR_REFIT_LIVERY_500);
}

switch(FEAT_TRAINS, SELF, sw_500_engineH, cargo_subtype) {
    1: set_500_Cool_engineH;        // Cool
    2: set_500_Sancheon_engineH;    // 산천
    3: set_500_Patjug_engineH;      // 팥죽
    set_500_engineH;
}

switch(FEAT_TRAINS, SELF, sw_500_engineT, cargo_subtype) {
    1: set_500_Cool_engineT;        // Cool
    2: set_500_Sancheon_engineT;    // 산천
    3: set_500_Patjug_engineT;      // 팥죽
    set_500_engineT;
}

switch(FEAT_TRAINS, SELF, sw_500_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_500_engineT;
	sw_500_engineH;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_start, cargo_subtype) {
    1: set_500_Cool_wagon_start;        // Cool
    2: set_500_Sancheon_wagon_start;    // 산천
    3: set_500_Patjug_wagon_start;      // 팥죽
    set_500_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_front, cargo_subtype) {
    1: set_500_Cool_wagon;        // Cool
    2: set_500_Sancheon_wagon;    // 산천
    3: set_500_Patjug_wagon;      // 팥죽
    set_500_wagon;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_tail, cargo_subtype) {
    1: set_500_Cool_wagon_r;        // Cool
    2: set_500_Sancheon_wagon_r;    // 산천
    3: set_500_Patjug_wagon_r;      // 팥죽
    set_500_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_end, cargo_subtype) {
    1: set_500_Cool_wagon_end;        // Cool
    2: set_500_Sancheon_wagon_end;    // 산천
    3: set_500_Patjug_wagon_end;      // 팥죽
    set_500_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_middle, (position_in_consist)) {
    1: sw_500_wagon_tail;
    sw_500_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_rear, [STORE_TEMP(4, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    S500: sw_500_wagon_end;
    sw_500_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon, [STORE_TEMP(-4, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    S500: sw_500_wagon_start;
    sw_500_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_500_speed, cargo_subtype) {
    0: return 330;
    1: return 428;
    2: return 330;
    3: return 330;
    return 330;
}

switch(FEAT_TRAINS, SELF, sw_500_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.3.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, S500){
	property {
 		name:							string(STR_500_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1996, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							330km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					53;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP,TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
    
	graphics {
		default:						sw_500_engine;
		purchase:						sw_500_purchase;
        speed:							sw_500_speed;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_500_wagon_attach;
        cargo_subtype_text:             sw_500_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_500_wagon;
        cargo_subtype_text:             sw_500_cargo_subtype_text;
        cargo_capacity:                 100;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }

/*--------------------------------------------------------------------
5.4. 신칸센 800계
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.4.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_800_purchase, "..\YSTset\Graphic\locomotive\800\800.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_800H_purchase, "..\YSTset\Graphic\locomotive\800\800.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_800_engineH, "..\YSTset\Graphic\locomotive\800\800.png"){
	engine(60, 0)
}

spriteset(set_800_wagon_start, "..\YSTset\Graphic\locomotive\800\800.png"){
	wagon_panto(60, 27)
}

spriteset(set_800_wagon, "..\YSTset\Graphic\locomotive\800\800.png") {
    wagon_1F(60, 54)
}

spriteset(set_800_wagon_r, "..\YSTset\Graphic\locomotive\800\800.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_800_wagon_end, "..\YSTset\Graphic\locomotive\800\800.png"){
	wagon_panto(60, 81)
}

spriteset(set_800_engineT, "..\YSTset\Graphic\locomotive\800\800.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.4.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_800D_purchase, cargo_subtype) {
    set_800_purchase;
}

/*--------------------------------------------------------------------
5.4.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_800_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_800_engineT;
	set_800_engineH;}

switch(FEAT_TRAINS, SELF, sw_800_wagon_middle, (position_in_consist)) {
    1: set_800_wagon;
    set_800_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_800_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    S800: set_800_wagon_end;
    sw_800_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_800_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    S800: set_800_wagon_start;
    sw_800_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_800_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.4.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, S800){
	property {
 		name:							string(STR_800_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1996, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							260km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					58;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }

    graphics {
		default:						sw_800_engine;
		purchase:						sw_800D_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_800_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_800_wagon;
        cargo_capacity:                 80;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.5. AGV
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.5.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_AGV_purchase, "..\YSTset\Graphic\locomotive\AGV\AGV.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.5.1.1. AGV
--------------------------------------------------------------------*/

spriteset(set_AGVH_purchase, "..\YSTset\Graphic\locomotive\AGV\AGV.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_AGV_engineH, "..\YSTset\Graphic\locomotive\AGV\AGV.png"){
	engine(60, 0)
}

spriteset(set_AGV_wagon_start, "..\YSTset\Graphic\locomotive\AGV\AGV.png"){
	wagon_panto(60, 27)
}

spriteset(set_AGV_wagon, "..\YSTset\Graphic\locomotive\AGV\AGV.png") {
    wagon_1F(60, 54)
}

spriteset(set_AGV_wagon_r, "..\YSTset\Graphic\locomotive\AGV\AGV.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_AGV_wagon_end, "..\YSTset\Graphic\locomotive\AGV\AGV.png"){
	wagon_panto(60, 81)
}

spriteset(set_AGV_engineT, "..\YSTset\Graphic\locomotive\AGV\AGV.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.5.1.2. AGV_Cool
--------------------------------------------------------------------*/
spriteset(set_AGV_Cool_purchase, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_AGV_Cool_engineH, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png"){
	engine(60, 0)
}

spriteset(set_AGV_Cool_wagon_start, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png"){
	wagon_start(60, 27)
}

spriteset(set_AGV_Cool_wagon, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png") {
    wagon_1F(60, 54)
}

spriteset(set_AGV_Cool_wagon_r, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_AGV_Cool_wagon_end, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png"){
	wagon_start(60, 81)
}

spriteset(set_AGV_Cool_engineT, "..\YSTset\Graphic\locomotive\AGV\AGV_Cool.png"){
	engine_r(60, 108)
}


/*--------------------------------------------------------------------
5.5.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_AGV_purchase, cargo_subtype) {
    set_AGV_purchase;
}

/*--------------------------------------------------------------------
5.5.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_AGV_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_AGV_Cool);   // AGV-Cool
    return string(STR_REFIT_LIVERY_AGV);
}

switch(FEAT_TRAINS, SELF, sw_AGV_engineH, cargo_subtype) {
    1: set_AGV_Cool_engineH;   // AGV-Cool
    set_AGV_engineH;
}

switch(FEAT_TRAINS, SELF, sw_AGV_engineT, cargo_subtype) {
    1: set_AGV_Cool_engineT;   // AGV-Cool
    set_AGV_engineT;
}

switch(FEAT_TRAINS, SELF, sw_AGV_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_AGV_engineT;
	sw_AGV_engineH;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_start, cargo_subtype) {
    1: set_AGV_Cool_wagon_start;   // AGV-Cool
    set_AGV_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_front, cargo_subtype) {
    1: set_AGV_Cool_wagon;  // AGV-Cool
    set_AGV_wagon;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_tail, cargo_subtype) {
    1: set_AGV_Cool_wagon_r;   // AGV-Cool
    set_AGV_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_end, cargo_subtype) {
    1: set_AGV_Cool_wagon_end;   // AGV-Cool
    set_AGV_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_middle, (position_in_consist)) {
    1: sw_AGV_wagon_tail;
    sw_AGV_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    AGV: sw_AGV_wagon_end;
    sw_AGV_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    AGV: sw_AGV_wagon_start;
    sw_AGV_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_AGV_wagon_attach, vehicle_type_id) {
    AGV:                return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:  return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

switch(FEAT_TRAINS, SELF, sw_AGV_speed, cargo_subtype) {
    0: return 330;
    1: return 428;
    return 330;
}

/*--------------------------------------------------------------------
5.5.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, AGV){
	property {
 		name:							string(STR_AGV_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2012, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							330km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					85;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }

    graphics {
		default:						sw_AGV_engine;
		purchase:						sw_AGV_purchase;
        speed:							sw_AGV_speed;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_AGV_wagon_attach;
        cargo_subtype_text:             sw_AGV_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_AGV);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_AGV_wagon;
        cargo_subtype_text:             sw_AGV_cargo_subtype_text;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;
        }
}
      
/*--------------------------------------------------------------------
5.6. AVE
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.6.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_AVE_purchase, "..\YSTset\Graphic\locomotive\AVE\AVE.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_AVEH_purchase, "..\YSTset\Graphic\locomotive\AVE\AVE.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_AVE_engineH, "..\YSTset\Graphic\locomotive\AVE\AVE.png"){
	engine(60, 0)
}

spriteset(set_AVE_wagon_start, "..\YSTset\Graphic\locomotive\AVE\AVE.png"){
	wagon_start(60, 27)
}

spriteset(set_AVE_wagon, "..\YSTset\Graphic\locomotive\AVE\AVE.png") {
    wagon_1F(60, 54)
}

spriteset(set_AVE_wagon_r, "..\YSTset\Graphic\locomotive\AGV\AGV.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_AVE_wagon_bar, "..\YSTset\Graphic\locomotive\AVE\AVE.png") {
    wagon_bar(60, 81)
}

spriteset(set_AVE_wagon_end, "..\YSTset\Graphic\locomotive\AVE\AVE.png"){
	wagon_start(60, 108)
}

spriteset(set_AVE_engineT, "..\YSTset\Graphic\locomotive\AVE\AVE.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.6.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_AVE_purchase, cargo_subtype) {
    set_AVE_purchase;
}

/*--------------------------------------------------------------------
5.6.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_AVE_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_AVE_engineT;
	set_AVE_engineH;
}

switch(FEAT_TRAINS, SELF, sw_AVE_wagon_middle, (position_in_consist)) {
    1: set_AVE_wagon_r;
    set_AVE_wagon;
}

switch(FEAT_TRAINS, SELF, sw_AVE_wagon_bar, (position_in_consist %5) + 1) {
    1: set_AVE_wagon_bar;
    sw_AVE_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_AVE_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    AVE: set_AVE_wagon_end;
    sw_AVE_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_AVE_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    AVE: set_AVE_wagon_start;
    sw_AVE_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_AVE_wagon_attach, vehicle_type_id) {
    AVE:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.6.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, AVE){
	property {
 		name:							string(STR_AVE_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2012, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							330km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_AVE_engine;
		purchase:						sw_AVE_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_AVE_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_AVE);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_AVE_wagon;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.7. AVE Velaro
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.7.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_AVE_Velaro_purchase, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_AVE_VelaroH_purchase, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_AVE_Velaro_engineH, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png"){
	engine(60, 0)
}

spriteset(set_AVE_Velaro_wagon_start, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png"){
	wagon_start(60, 27)
}

spriteset(set_AVE_Velaro_wagon, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png") {
    wagon_1F(60, 54)
}

spriteset(set_AVE_Velaro_wagon_r, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_AVE_Velaro_wagon_end, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png"){
	wagon_start(60, 81)
}

spriteset(set_AVE_Velaro_engineT, "..\YSTset\Graphic\locomotive\AVE\AVE_Velaro.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.7.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_AVE_Velaro_purchase, cargo_subtype) {
    set_AVE_Velaro_purchase;
}

/*--------------------------------------------------------------------
5.7.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_AVE_Velaro_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_AVE_Velaro_engineT;
	set_AVE_Velaro_engineH;
}

switch(FEAT_TRAINS, SELF, sw_AVE_Velaro_wagon_middle, (position_in_consist)) {
    1: set_AVE_Velaro_wagon_r;
    set_AVE_Velaro_wagon;
}

switch(FEAT_TRAINS, SELF, sw_AVE_Velaro_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    AVE_Velaro: set_AVE_Velaro_wagon_end;
    sw_AVE_Velaro_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_AVE_Velaro_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    AVE_Velaro: set_AVE_Velaro_wagon_start;
    sw_AVE_Velaro_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_AVE_Velaro_wagon_attach, vehicle_type_id) {
    AVE_Velaro:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.7.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, AVE_Velaro){
	property {
 		name:							string(STR_AVE_Velaro_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2006, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							330km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					30;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_AVE_Velaro_engine;
		purchase:						sw_AVE_Velaro_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_AVE_Velaro_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_AVE_VElaro);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_AVE_Velaro_wagon;
        cargo_capacity:                 50;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.8. CR600
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.8.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_CR600_purchase, "..\YSTset\Graphic\locomotive\CR600\CR600.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_CR600H_purchase, "..\YSTset\Graphic\locomotive\CR600\CR600.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CR600_engineH, "..\YSTset\Graphic\locomotive\CR600\CR600.png"){
	engine(60, 0)
}

spriteset(set_CR600_wagon_start, "..\YSTset\Graphic\locomotive\CR600\CR600.png"){
	wagon_start(60, 27)
}

spriteset(set_CR600_wagon, "..\YSTset\Graphic\locomotive\CR600\CR600.png") {
    wagon_1F(60, 54)
}

spriteset(set_CR600_wagon_r, "..\YSTset\Graphic\locomotive\CR600\CR600.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CR600_wagon_end, "..\YSTset\Graphic\locomotive\CR600\CR600.png"){
	wagon_start(60, 81)
}

spriteset(set_CR600_engineT, "..\YSTset\Graphic\locomotive\CR600\CR600.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.8.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CR600_purchase, cargo_subtype) {
    set_CR600_purchase;
}

/*--------------------------------------------------------------------
5.8.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CR600_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_CR600_engineT;
	set_CR600_engineH;
}

switch(FEAT_TRAINS, SELF, sw_CR600_wagon_middle, (position_in_consist)) {
    1: set_CR600_wagon_r;
    set_CR600_wagon;
}

switch(FEAT_TRAINS, SELF, sw_CR600_wagon_rear, [STORE_TEMP(2, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    CR600: set_CR600_wagon_end;
    sw_CR600_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_CR600_wagon, [STORE_TEMP(-2, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    CR600: set_CR600_wagon_start;
    sw_CR600_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_CR600_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.8.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, CR600){
	property {
 		name:							string(STR_CR600_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2012, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							600km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					45;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_CR600_engine;
		purchase:						sw_CR600_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_CR600_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_CR600_wagon;
        cargo_capacity:                 90;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.9. CRH1
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.9.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_CRH1_purchase, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_CRH1H_purchase, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CRH1_engineH, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png"){
	engine(60, 0)
}

spriteset(set_CRH1_wagon_start, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png"){
	wagon_start(60, 27)
}

spriteset(set_CRH1_wagon, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png") {
    wagon_1F(60, 54)
}

spriteset(set_CRH1_wagon_r, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CRH1_wagon_end, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png"){
	wagon_start(60, 81)
}

spriteset(set_CRH1_engineT, "..\YSTset\Graphic\locomotive\CRH1\CRH1.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.9.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH1_purchase, cargo_subtype) {
    set_CRH1_purchase;
}

/*--------------------------------------------------------------------
5.9.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH1_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_CRH1_engineT;
	set_CRH1_engineH;
}

switch(FEAT_TRAINS, SELF, sw_CRH1_wagon_middle, (position_in_consist)) {
    1: set_CRH1_wagon_r;
    set_CRH1_wagon;
}

switch(FEAT_TRAINS, SELF, sw_CRH1_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    CRH1: set_CRH1_wagon_end;
    sw_CRH1_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_CRH1_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    CRH1: set_CRH1_wagon_start;
    sw_CRH1_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_CRH1_wagon_attach, vehicle_type_id) {
    CRH1:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.9.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, CRH1){
	property {
 		name:							string(STR_CRH1_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2007, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							280km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					72;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_CRH1_engine;
		purchase:						sw_CRH1_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_CRH1_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_CRH1);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_CRH1_wagon;
        cargo_capacity:                 101;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.10. CRH3
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.10.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_CRH3_purchase, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_CRH3H_purchase, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CRH3_engineH, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png"){
	engine(60, 0)
}

spriteset(set_CRH3_wagon_start, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png"){
	wagon_start(60, 27)
}

spriteset(set_CRH3_wagon, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png") {
    wagon_1F(60, 54)
}

spriteset(set_CRH3_wagon_r, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CRH3_wagon_end, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png"){
	wagon_start(60, 81)
}

spriteset(set_CRH3_engineT, "..\YSTset\Graphic\locomotive\CRH3\CRH3.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.10.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH3_purchase, cargo_subtype) {
    set_CRH3_purchase;
}

/*--------------------------------------------------------------------
5.10.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH3_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_CRH3_engineT;
	set_CRH3_engineH;
}

switch(FEAT_TRAINS, SELF, sw_CRH3_wagon_middle, (position_in_consist)) {
    1: set_CRH3_wagon_r;
    set_CRH3_wagon;
}

switch(FEAT_TRAINS, SELF, sw_CRH3_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    CRH3: set_CRH3_wagon_end;
    sw_CRH3_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_CRH3_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    CRH3: set_CRH3_wagon_start;
    sw_CRH3_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_CRH3_wagon_attach, vehicle_type_id) {
    CRH3:          return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.10.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, CRH3){
	property {
 		name:							string(STR_CRH3_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2017, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							330km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					30;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_CRH3_engine;
		purchase:						sw_CRH3_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_CRH3_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_CRH3);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_CRH3_wagon;
        cargo_capacity:                 50;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.11. CRH380A
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.11.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_CRH380A_purchase, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.11.1.1. CRH380A
--------------------------------------------------------------------*/
spriteset(set_CRH380AH_purchase, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CRH380A_engineH, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png"){
	engine(60, 0)
}

spriteset(set_CRH380A_wagon_start, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png"){
	wagon_start(60, 27)
}

spriteset(set_CRH380A_wagon, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png") {
    wagon_1F(60, 54)
}

spriteset(set_CRH380A_wagon_r, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CRH380A_wagon_end, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png"){
	wagon_start(60, 81)
}

spriteset(set_CRH380A_engineT, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.11.1.2. CRH380A Cool
--------------------------------------------------------------------*/
spriteset(set_CRH380A_CoolH_purchase, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CRH380A_Cool_engineH, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png"){
	engine(60, 0)
}

spriteset(set_CRH380A_Cool_wagon_start, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png"){
	wagon_start(60, 27)
}

spriteset(set_CRH380A_Cool_wagon, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png") {
    wagon_1F(60, 54)
}

spriteset(set_CRH380A_Cool_wagon_r, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CRH380A_Cool_wagon_end, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png"){
	wagon_start(60, 81)
}

spriteset(set_CRH380A_Cool_engineT, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Cool.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.11.1.3. CRH380A Red
--------------------------------------------------------------------*/
spriteset(set_CRH380A_RedH_purchase, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CRH380A_Red_engineH, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png"){
	engine(60, 0)
}

spriteset(set_CRH380A_Red_wagon_start, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png"){
	wagon_start(60, 27)
}

spriteset(set_CRH380A_Red_wagon, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png") {
    wagon_1F(60, 54)
}

spriteset(set_CRH380A_Red_wagon_r, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CRH380A_Red_wagon_end, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png"){
	wagon_start(60, 81)
}

spriteset(set_CRH380A_Red_engineT, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Red.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.11.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH380A_purchase, cargo_subtype) {
    set_CRH380A_purchase;
}

/*--------------------------------------------------------------------
5.11.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH380A_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_CRH380AC);   // Cool
    2: return string(STR_REFIT_LIVERY_CRH380AR);   // Red
    return string(STR_REFIT_LIVERY_CRH380A);
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_engineH, cargo_subtype) {
    1: set_CRH380A_Cool_engineH;   // Cool
    2: set_CRH380A_Red_engineH;   // Red
    set_CRH380A_engineH;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_engineT, cargo_subtype) {
    1: set_CRH380A_Cool_engineT;   // Cool
    2: set_CRH380A_Red_engineT;   // Red
    set_CRH380A_engineT;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_CRH380A_engineT;
	sw_CRH380A_engineH;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_start, cargo_subtype) {
    1: set_CRH380A_Cool_wagon_start;   // Cool
    2: set_CRH380A_Red_wagon_start;   // Red
    set_CRH380A_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_front, cargo_subtype) {
    1: set_CRH380A_Cool_wagon;   // Cool
    2: set_CRH380A_Red_wagon;   // Red
    set_CRH380A_wagon;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_tail, cargo_subtype) {
    1: set_CRH380A_Cool_wagon_r;   // Cool
    2: set_CRH380A_Red_wagon_r;   // Red
    set_CRH380A_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_end, cargo_subtype) {
    1: set_CRH380A_Cool_wagon_end;   // Cool
    2: set_CRH380A_Red_wagon_end;   // Red
    set_CRH380A_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_speed, cargo_subtype) {
    0: return 380;
    1: return 428;
    1: return 380;
    return 380;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_middle, (position_in_consist)) {
    1: sw_CRH380A_wagon_tail;
    sw_CRH380A_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    CRH380A: sw_CRH380A_wagon_end;
    sw_CRH380A_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    CRH380A: sw_CRH380A_wagon_start;
    sw_CRH380A_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_wagon_attach, vehicle_type_id) {
    CRH380A:          return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.11.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, CRH380A){
	property {
 		name:							string(STR_CRH380A_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2017, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							380km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					46;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP,TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_CRH380A_engine;
		purchase:						sw_CRH380A_purchase;
        speed:							sw_CRH380A_speed;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_CRH380A_wagon_attach;
        cargo_subtype_text:             sw_CRH380A_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_CRH380A);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_CRH380A_wagon;
        cargo_subtype_text:             sw_CRH380A_cargo_subtype_text;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.12. CRH380A Test
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.12.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_CRH380A_Test_purchase, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_CRH380A_TestH_purchase, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_CRH380A_Test_engineH, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png"){
	engine(60, 0)
}

spriteset(set_CRH380A_Test_wagon_start, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png"){
	wagon_start(60, 27)
}

spriteset(set_CRH380A_Test_wagon, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png") {
    wagon_1F(60, 54)
}

spriteset(set_CRH380A_Test_wagon_r, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_CRH380A_Test_wagon_end, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png"){
	wagon_start(60, 81)
}

spriteset(set_CRH380A_Test_engineT, "..\YSTset\Graphic\locomotive\CRH380A\CRH380A_Test.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.12.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH380A_Test_purchase, cargo_subtype) {
    set_CRH380A_Test_purchase;
}

/*--------------------------------------------------------------------
5.12.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_CRH380A_Test_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_CRH380A_Test_engineT;
	set_CRH380A_Test_engineH;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_Test_wagon_middle, (position_in_consist)) {
    1: set_CRH380A_Test_wagon_r;
    set_CRH380A_Test_wagon;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_Test_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    CRH380A_Test: set_CRH380A_Test_wagon_end;
    sw_CRH380A_Test_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_Test_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    CRH380A_Test: set_CRH380A_Test_wagon_start;
    sw_CRH380A_Test_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_CRH380A_Test_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.12.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, CRH380A_Test){
	property {
 		name:							string(STR_CRH380T_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2017, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							600km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_NONE;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_CRH380A_Test_engine;
		purchase:						sw_CRH380A_Test_purchase;
        cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_CRH380A_Test_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_CRH380A_Test_wagon;
        cargo_capacity:                 0;
        running_cost_factor:            0;}
        }

/*--------------------------------------------------------------------
5.13. E5
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.13.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_E5_purchase, "..\YSTset\Graphic\locomotive\E5\E5.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.13.1.1. E5
--------------------------------------------------------------------*/
spriteset(set_E5H_purchase, "..\YSTset\Graphic\locomotive\E5\E5.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_E5_engineH, "..\YSTset\Graphic\locomotive\E5\E5.png"){
	engine(60, 0)
}

spriteset(set_E5_wagon_start, "..\YSTset\Graphic\locomotive\E5\E5.png"){
	wagon_start(60, 27)
}

spriteset(set_E5_wagon, "..\YSTset\Graphic\locomotive\E5\E5.png") {
    wagon_1F(60, 54)
}

spriteset(set_E5_wagon_r, "..\YSTset\Graphic\locomotive\E5\E5.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_E5_wagon_end, "..\YSTset\Graphic\locomotive\E5\E5.png"){
	wagon_start(60, 81)
}

spriteset(set_E5_engineT, "..\YSTset\Graphic\locomotive\E5\E5.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.13.1.2. H5
--------------------------------------------------------------------*/
spriteset(set_H5H_purchase, "..\YSTset\Graphic\locomotive\E5\H5.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_H5_engineH, "..\YSTset\Graphic\locomotive\E5\H5.png"){
	engine(60, 0)
}

spriteset(set_H5_wagon_start, "..\YSTset\Graphic\locomotive\E5\H5.png"){
	wagon_start(60, 27)
}

spriteset(set_H5_wagon, "..\YSTset\Graphic\locomotive\E5\H5.png") {
    wagon_1F(60, 54)
}

spriteset(set_H5_wagon_r, "..\YSTset\Graphic\locomotive\E5\H5.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_H5_wagon_end, "..\YSTset\Graphic\locomotive\E5\H5.png"){
	wagon_start(60, 81)
}

spriteset(set_H5_engineT, "..\YSTset\Graphic\locomotive\E5\H5.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.13.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E5_purchase, cargo_subtype) {
    set_E5_purchase;
}

/*--------------------------------------------------------------------
5.13.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E5_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_H5);   // H5
    return string(STR_REFIT_LIVERY_E5);
}

switch(FEAT_TRAINS, SELF, sw_E5_engineH, cargo_subtype) {
    1: set_H5_engineH;   // H5
    set_E5_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E5_engineT, cargo_subtype) {
    1: set_H5_engineT;   // H5
    set_E5_engineT;
}

switch(FEAT_TRAINS, SELF, sw_E5_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_E5_engineT;
	sw_E5_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_start, cargo_subtype) {
    1: set_H5_wagon_start;   // H5
    set_E5_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_front, cargo_subtype) {
    1: set_H5_wagon;   // H5
    set_E5_wagon;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_tail, cargo_subtype) {
    1: set_H5_wagon_r;   // H5
    set_E5_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_end, cargo_subtype) {
    1: set_H5_wagon_end;   // H5
    set_E5_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_middle, (position_in_consist)) {
    1: sw_E5_wagon_tail;
    sw_E5_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    E5: sw_E5_wagon_end;
    sw_E5_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    E5: sw_E5_wagon_start;
    sw_E5_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_E5_wagon_attach, vehicle_type_id) {
    E6:          return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.13.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, E5){
	property {
 		name:							string(STR_E5_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2011, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					20;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_E5_engine;
		purchase:						sw_E5_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_E5_wagon_attach;
        cargo_subtype_text:             sw_E5_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_E6);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_E5_wagon;
        cargo_subtype_text:             sw_E5_cargo_subtype_text;
        cargo_capacity:                 100;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }

/*--------------------------------------------------------------------
5.14. E6
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.14.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_E6_purchase, "..\YSTset\Graphic\locomotive\E6\E6.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_E6H_purchase, "..\YSTset\Graphic\locomotive\E6\E6.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_E6_engineH, "..\YSTset\Graphic\locomotive\E6\E6.png"){
	engine(60, 0)
}

spriteset(set_E6_wagon_start, "..\YSTset\Graphic\locomotive\E6\E6.png"){
	wagon_start(60, 27)
}

spriteset(set_E6_wagon, "..\YSTset\Graphic\locomotive\E6\E6.png") {
    wagon_1F(60, 54)
}

spriteset(set_E6_wagon_r, "..\YSTset\Graphic\locomotive\E6\E6.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_E6_wagon_end, "..\YSTset\Graphic\locomotive\E6\E6.png"){
	wagon_start(60, 81)
}

spriteset(set_E6_engineT, "..\YSTset\Graphic\locomotive\E6\E6.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.14.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E6_purchase, cargo_subtype) {
    set_E6_purchase;
}

/*--------------------------------------------------------------------
5.14.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E6_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_E6_engineT;
	set_E6_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E6_wagon_middle, (position_in_consist)) {
    1: set_E6_wagon_r;
    set_E6_wagon;
}

switch(FEAT_TRAINS, SELF, sw_E6_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    E6: set_E6_wagon_end;
    sw_E6_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_E6_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    E6: set_E6_wagon_start;
    sw_E6_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_E6_wagon_attach, vehicle_type_id) {
    E5:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.14.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, E6){
	property {
 		name:							string(STR_E6_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2011, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					22;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_E6_engine;
		purchase:						sw_E6_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_E6_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_E5_H5);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_E6_wagon;
        cargo_capacity:                 68;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }

/*--------------------------------------------------------------------
5.15. E7
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.15.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_E7_purchase, "..\YSTset\Graphic\locomotive\E7\E7.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_E7H_purchase, "..\YSTset\Graphic\locomotive\E7\E7.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_E7_engineH, "..\YSTset\Graphic\locomotive\E7\E7.png"){
	engine(60, 0)
}

spriteset(set_E7_wagon_start, "..\YSTset\Graphic\locomotive\E7\E7.png"){
	wagon_start(60, 27)
}

spriteset(set_E7_wagon, "..\YSTset\Graphic\locomotive\E7\E7.png") {
    wagon_1F(60, 54)
}

spriteset(set_E7_wagon_r, "..\YSTset\Graphic\locomotive\E7\E7.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_E7_wagon_end, "..\YSTset\Graphic\locomotive\E7\E7.png"){
	wagon_start(60, 81)
}

spriteset(set_E7_engineT, "..\YSTset\Graphic\locomotive\E7\E7.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.15.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E7_purchase, cargo_subtype) {
    set_E7_purchase;
}

/*--------------------------------------------------------------------
5.15.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E7_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_E7_engineT;
	set_E7_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E7_wagon_middle, (position_in_consist)) {
    1: set_E7_wagon_r;
    set_E7_wagon;
}

switch(FEAT_TRAINS, SELF, sw_E7_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    E7: set_E7_wagon_end;
    sw_E7_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_E7_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    E7: set_E7_wagon_start;
    sw_E7_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_E7_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.15.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, E7){
	property {
 		name:							string(STR_E7_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2014, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					50;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_E7_engine;
		purchase:						sw_E7_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_E7_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_E7_wagon;
        cargo_capacity:                 98;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.16. E300 유로스타
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.16.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_E300_purchase, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.16.1.1. E300 노랑
--------------------------------------------------------------------*/
spriteset(set_E300H_purchase, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_E300_engineH, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	engine(60, 0)
}

spriteset(set_E300_wagon_start, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	wagon_start(60, 27)
}

spriteset(set_E300_wagon, "..\YSTset\Graphic\locomotive\E300\E300.png") {
    wagon_1F(60, 54)
}

spriteset(set_E300_wagon_r, "..\YSTset\Graphic\locomotive\E300\E300.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_E300_wagon_bar, "..\YSTset\Graphic\locomotive\E300\E300.png") {
    wagon_bar(60, 81)
}

spriteset(set_E300_wagon_end, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	wagon_start(60, 108)
}

spriteset(set_E300_engineT, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.16.1.2. E300 파랑
--------------------------------------------------------------------*/
spriteset(set_E300BH_purchase, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	tmpl_purchase_for_dualhead(0, 297)
}

spriteset(set_E300B_engineH, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	engine(60, 162)
}

spriteset(set_E300B_wagon_start, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	wagon_start(60, 189)
}

spriteset(set_E300B_wagon, "..\YSTset\Graphic\locomotive\E300\E300.png") {
    wagon_1F(60, 216)
}

spriteset(set_E300B_wagon_r, "..\YSTset\Graphic\locomotive\E300\E300.png") {
    wagon_1F_r(60, 216)
}

spriteset(set_E300B_wagon_bar, "..\YSTset\Graphic\locomotive\E300\E300.png") {
    wagon_bar(60, 243)
}

spriteset(set_E300B_wagon_end, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	wagon_start(60, 270)
}

spriteset(set_E300B_engineT, "..\YSTset\Graphic\locomotive\E300\E300.png"){
	engine_r(60, 297)
}

/*--------------------------------------------------------------------
5.16.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E300_purchase, cargo_subtype) {
    set_E300_purchase;
}

/*--------------------------------------------------------------------
5.16.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E300_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_E300B);   // 파랑
    return string(STR_REFIT_LIVERY_E300);
}

switch(FEAT_TRAINS, SELF, sw_E300_engineH, cargo_subtype) {
    1: set_E300B_engineH;   // 파랑
    set_E300_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E300_engineT, cargo_subtype) {
    1: set_E300B_engineT;   // H5
    set_E300_engineT;
}

switch(FEAT_TRAINS, SELF, sw_E300_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_E300_engineT;
	sw_E300_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_start, cargo_subtype) {
    1: set_E300B_wagon_start;   // 파랑
    set_E300_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_front, cargo_subtype) {
    1: set_E300B_wagon;   // 파랑
    set_E300_wagon;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_tail, cargo_subtype) {
    1: set_E300B_wagon_r;   // 파랑
    set_E300_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_front_bar, cargo_subtype) {
    1: set_E300B_wagon_bar;   // 파랑
    set_E300_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_tail_bar, cargo_subtype) {
    1: set_E300B_wagon_bar;   // 파랑
    set_E300_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_end, cargo_subtype) {
    1: set_E300B_wagon_end;   // H5
    set_E300_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_middle, (position_in_consist)) {
    1: sw_E300_wagon_tail;
    sw_E300_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_bar_rear, [STORE_TEMP(6, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    E300: sw_E300_wagon_tail_bar;
    sw_E300_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_bar, [STORE_TEMP(-6, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    E300: sw_E300_wagon_front_bar;
    sw_E300_wagon_bar_rear;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    E300: sw_E300_wagon_end;
    sw_E300_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    E300: sw_E300_wagon_start;
    sw_E300_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_E300_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.16.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, E300){
	property {
 		name:							string(STR_E300_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1992, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_E300_engine;
		purchase:						sw_E300_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_E300_wagon_attach;
        cargo_subtype_text:             sw_E300_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_E300_wagon;
        cargo_subtype_text:             sw_E300_cargo_subtype_text;
        cargo_capacity:                 58;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.17. E320
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.17.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_E320_purchase, "..\YSTset\Graphic\locomotive\E320\E320.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_E320H_purchase, "..\YSTset\Graphic\locomotive\E320\E320.png"){
	tmpl_purchase_for_dualhead(0, 54)
}

spriteset(set_E320_engineH, "..\YSTset\Graphic\locomotive\E320\E320.png"){
	engine(60, 0)
}

spriteset(set_E320_wagon, "..\YSTset\Graphic\locomotive\E320\E320.png") {
    wagon_1F(60, 27)
}

spriteset(set_E320_wagon_r, "..\YSTset\Graphic\locomotive\E320\E320.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_E320_engineT, "..\YSTset\Graphic\locomotive\E320\E320.png"){
	engine_r(60, 54)
}

/*--------------------------------------------------------------------
5.17.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E320_purchase, cargo_subtype) {
    set_E320_purchase;
}

/*--------------------------------------------------------------------
5.17.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_E320_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_E320_engineT;
	set_E320_engineH;
}

switch(FEAT_TRAINS, SELF, sw_E320_wagon, position_in_consist) {
    1: set_E320_wagon_r;
    set_E320_wagon;
}

switch(FEAT_TRAINS, SELF, sw_E320_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.17.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, E320){
	property {
 		name:							string(STR_E320_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2014, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					30;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_E320_engine;
		purchase:						sw_E320_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_E320_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_E320_wagon;
        cargo_capacity:                 50;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.18. EMU
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.18.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_EMU_purchase, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.18.1.1. EMU-250
--------------------------------------------------------------------*/
spriteset(set_EMU_250H_purchase, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_EMU_250_engineH, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png"){
	engine(60, 0)
}

spriteset(set_EMU_250_wagon_start, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png"){
	wagon_start(60, 27)
}

spriteset(set_EMU_250_wagon, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png") {
    wagon_1F(60, 54)
}

spriteset(set_EMU_250_wagon_r, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_EMU_250_wagon_end, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png"){
	wagon_start(60, 81)
}

spriteset(set_EMU_250_engineT, "..\YSTset\Graphic\locomotive\EMU\EMU_250.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.18.1.2. EMU-300
--------------------------------------------------------------------*/
spriteset(set_EMU_300H_purchase, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_EMU_300_engineH, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png"){
	engine(60, 0)
}

spriteset(set_EMU_300_wagon_start, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png"){
	wagon_start(60, 27)
}

spriteset(set_EMU_300_wagon, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png") {
    wagon_1F(60, 54)
}

spriteset(set_EMU_300_wagon_r, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_EMU_300_wagon_end, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png"){
	wagon_start(60, 81)
}

spriteset(set_EMU_300_engineT, "..\YSTset\Graphic\locomotive\EMU\EMU_300.png"){
	engine_r(60, 108)
}


/*--------------------------------------------------------------------
5.18.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_EMU_purchase, cargo_subtype) {
    set_EMU_purchase;
}

/*--------------------------------------------------------------------
5.18.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_EMU_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_EMU300);   // 300
    return string(STR_REFIT_LIVERY_EMU250);
}

switch(FEAT_TRAINS, SELF, sw_EMU_engineH, cargo_subtype) {
    1: set_EMU_300_engineH;   // 300
    set_EMU_250_engineH;
}

switch(FEAT_TRAINS, SELF, sw_EMU_engineT, cargo_subtype) {
    1: set_EMU_300_engineT;   // H5
    set_EMU_250_engineT;
}

switch(FEAT_TRAINS, SELF, sw_EMU_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_EMU_engineT;
	sw_EMU_engineH;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_start, cargo_subtype) {
    1: set_EMU_300_wagon_start;   // 300
    set_EMU_250_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_front, cargo_subtype) {
    1: set_EMU_300_wagon;   // 300
    set_EMU_250_wagon;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_tail, cargo_subtype) {
    1: set_EMU_300_wagon_r;   // 300
    set_EMU_250_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_end, cargo_subtype) {
    1: set_EMU_300_wagon_end;   // 300
    set_EMU_250_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_EMU_speed, cargo_subtype) {
    0: return 250;
    1: return 330;
    return 250;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_middle, (position_in_consist)) {
    1: sw_EMU_wagon_tail;
    sw_EMU_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    EMU: sw_EMU_wagon_end;
    sw_EMU_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    EMU: sw_EMU_wagon_start;
    sw_EMU_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_EMU_wagon_attach, vehicle_type_id) {
    EMU:             return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.18.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, EMU){
	property {
 		name:							string(STR_EMU_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					58;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        cost_factor:					10;
		running_cost_factor:			150;
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_EMU_engine;
		purchase:						sw_EMU_purchase;
        speed:							sw_EMU_speed;
        loading_speed:					25;
		can_attach_wagon:               sw_EMU_wagon_attach;
        cargo_subtype_text:             sw_EMU_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_EMU);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_EMU_wagon;
        cargo_subtype_text:             sw_EMU_cargo_subtype_text;
        cargo_capacity:                 70;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }

/*--------------------------------------------------------------------
5.19. Glory 600
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.19.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_Glory_600_purchase, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.19.1.1. Glory 600 A
--------------------------------------------------------------------*/
spriteset(set_Glory_600AH_purchase, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_Glory_600A_engineH, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine(60, 0)
}

spriteset(set_Glory_600A_wagon_start, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 27)
}

spriteset(set_Glory_600A_wagon, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F(60, 54)
}

spriteset(set_Glory_600A_wagon_r, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_Glory_600A_wagon_end, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 81)
}

spriteset(set_Glory_600A_engineT, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.19.1.2. Glory 600 B
--------------------------------------------------------------------*/
spriteset(set_Glory_600BH_purchase, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	tmpl_purchase_for_dualhead(0, 243)
}

spriteset(set_Glory_600B_engineH, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine(60, 135)
}

spriteset(set_Glory_600B_wagon_start, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 162)
}

spriteset(set_Glory_600B_wagon, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F(60, 189)
}

spriteset(set_Glory_600B_wagon_r, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F_r(60, 189)
}

spriteset(set_Glory_600B_wagon_end, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 216)
}

spriteset(set_Glory_600B_engineT, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine_r(60, 243)
}

/*--------------------------------------------------------------------
5.19.1.3. Glory 600 C
--------------------------------------------------------------------*/
spriteset(set_Glory_600CH_purchase, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	tmpl_purchase_for_dualhead(0, 378)
}

spriteset(set_Glory_600C_engineH, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine(60, 270)
}

spriteset(set_Glory_600C_wagon_start, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 297)
}

spriteset(set_Glory_600C_wagon, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F(60, 324)
}

spriteset(set_Glory_600C_wagon_r, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F_r(60, 324)
}

spriteset(set_Glory_600C_wagon_end, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 351)
}

spriteset(set_Glory_600C_engineT, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine_r(60, 378)
}

/*--------------------------------------------------------------------
5.19.1.4. Glory 600 D
--------------------------------------------------------------------*/
spriteset(set_Glory_600DH_purchase, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	tmpl_purchase_for_dualhead(0, 513)
}

spriteset(set_Glory_600D_engineH, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine(60, 405)
}

spriteset(set_Glory_600D_wagon_start, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 432)
}

spriteset(set_Glory_600D_wagon, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F(60, 459)
}

spriteset(set_Glory_600D_wagon_r, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F_r(60, 459)
}

spriteset(set_Glory_600D_wagon_end, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 486)
}

spriteset(set_Glory_600D_engineT, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine_r(60, 513)
}

/*--------------------------------------------------------------------
5.19.1.5. Glory 600 E
--------------------------------------------------------------------*/
spriteset(set_Glory_600EH_purchase, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	tmpl_purchase_for_dualhead(0, 648)
}

spriteset(set_Glory_600E_engineH, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine(60, 540)
}

spriteset(set_Glory_600E_wagon_start, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 567)
}

spriteset(set_Glory_600E_wagon, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F(60, 594)
}

spriteset(set_Glory_600E_wagon_r, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png") {
    wagon_1F_r(60, 594)
}

spriteset(set_Glory_600E_wagon_end, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	wagon_start(60, 621)
}

spriteset(set_Glory_600E_engineT, "..\YSTset\Graphic\locomotive\Glory_600\Glory_600.png"){
	engine_r(60, 648)
}

/*--------------------------------------------------------------------
5.19.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Glory_600_purchase, cargo_subtype) {
    set_Glory_600_purchase;
}

/*--------------------------------------------------------------------
5.19.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Glory_600_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_Glory600B);   // Glory-600 B
    2: return string(STR_REFIT_LIVERY_Glory600C);   // Glory-600 C
    3: return string(STR_REFIT_LIVERY_Glory600D);   // Glory-600 D
    4: return string(STR_REFIT_LIVERY_Glory600E);   // Glory-600 E
    return string(STR_REFIT_LIVERY_Glory600A);
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_engineH, cargo_subtype) {
    1: set_Glory_600B_engineH;    // Glory-600 B
    2: set_Glory_600C_engineH;    // Glory-600 C
    3: set_Glory_600D_engineH;    // Glory-600 D
    4: set_Glory_600E_engineH;    // Glory-600 E
    set_Glory_600A_engineH;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_engineT, cargo_subtype) {
    1: set_Glory_600B_engineT;    // Glory-600 B
    2: set_Glory_600C_engineT;    // Glory-600 C
    3: set_Glory_600D_engineT;    // Glory-600 D
    4: set_Glory_600E_engineT;    // Glory-600 E
    set_Glory_600A_engineT;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_Glory_600_engineT;
	sw_Glory_600_engineH;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_start, cargo_subtype) {
    1: set_Glory_600B_wagon_start;    // Glory-600 B
    2: set_Glory_600C_wagon_start;    // Glory-600 C
    3: set_Glory_600D_wagon_start;    // Glory-600 D
    4: set_Glory_600E_wagon_start;    // Glory-600 E
    set_Glory_600A_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_front, cargo_subtype) {
    1: set_Glory_600B_wagon;    // Glory-600 B
    2: set_Glory_600C_wagon;    // Glory-600 C
    3: set_Glory_600D_wagon;    // Glory-600 D
    4: set_Glory_600E_wagon;    // Glory-600 E
    set_Glory_600A_wagon;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_tail, cargo_subtype) {
    1: set_Glory_600B_wagon_r;    // Glory-600 B
    2: set_Glory_600C_wagon_r;    // Glory-600 C
    3: set_Glory_600D_wagon_r;    // Glory-600 D
    4: set_Glory_600E_wagon_r;    // Glory-600 E
    set_Glory_600A_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_end, cargo_subtype) {
    1: set_Glory_600B_wagon_end;    // Glory-600 B
    2: set_Glory_600C_wagon_end;    // Glory-600 C
    3: set_Glory_600D_wagon_end;    // Glory-600 D
    4: set_Glory_600E_wagon_end;    // Glory-600 E
    set_Glory_600A_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_middle, (position_in_consist)) {
    1: sw_Glory_600_wagon_tail;
    sw_Glory_600_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    Glory_600: sw_Glory_600_wagon_end;
    sw_Glory_600_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    Glory_600: sw_Glory_600_wagon_start;
    sw_Glory_600_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_Glory_600_wagon_attach, vehicle_type_id) {
    Glory_600:     return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.19.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, Glory_600){
	property {
 		name:							string(STR_Glory_600_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							600km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP,TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	
    graphics {
		default:						sw_Glory_600_engine;
		purchase:						sw_Glory_600_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_Glory_600_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        cargo_subtype_text:             sw_Glory_600_cargo_subtype_text;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_Glory600);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_Glory_600_wagon;
        cargo_subtype_text:             sw_Glory_600_cargo_subtype_text;
        cargo_capacity:                 100;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.20. 해무
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.20.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_HEMU_purchase, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_HEMUH_purchase, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png"){
	tmpl_purchase_for_dualhead(0, 81)
}

spriteset(set_HEMU_engineH, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png"){
	engine(60, 0)
}

spriteset(set_HEMU_wagon, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png") {
    wagon_1F(60, 27)
}

spriteset(set_HEMU_wagon_r, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_HEMU_wagon_bar, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png") {
    wagon_bar(60, 54)
}

spriteset(set_HEMU_engineT, "..\YSTset\Graphic\locomotive\HEMU\HEMU.png"){
	engine_r(60, 81)
}

/*--------------------------------------------------------------------
5.20.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_HEMU_purchase, cargo_subtype) {
    set_HEMU_purchase;
}

/*--------------------------------------------------------------------
5.20.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_HEMU_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_HEMU_engineT;
	set_HEMU_engineH;
}

switch(FEAT_TRAINS, SELF, sw_HEMU_wagon_middle, (position_in_consist)) {
    1: set_HEMU_wagon_r;
    set_HEMU_wagon;
}

switch(FEAT_TRAINS, SELF, sw_HEMU_wagon, (position_in_consist %4) + 1) {
    1: set_HEMU_wagon_bar;
    sw_HEMU_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_HEMU_wagon_attach, vehicle_type_id) {
    HEMU:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.20.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, HEMU){
	property {
 		name:							string(STR_HEMU_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2007, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							430km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					60;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_HEMU_engine;
		purchase:						sw_HEMU_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_HEMU_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_HEMU);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_HEMU_wagon;
        cargo_capacity:                 80;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.21. HMX
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.21.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_HMX_purchase, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.21.1.1. HMX 녹색도색
--------------------------------------------------------------------*/
spriteset(set_HMXGH_purchase, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	tmpl_purchase_for_dualhead(0, 81)
}

spriteset(set_HMXG_engineH, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	engine(60, 0)
}

spriteset(set_HMXG_1F_wagon, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_1F(60, 27)
}

spriteset(set_HMXG_1F_wagon_r, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_HMXG_2F_wagon, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_2F(60, 54)
}

spriteset(set_HMXG_2F_wagon_r, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_2F_r(60, 54)
}

spriteset(set_HMXG_engineT, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	engine_r(60, 81)
}

/*--------------------------------------------------------------------
5.21.1.2. HMX 빨강도색
--------------------------------------------------------------------*/
spriteset(set_HMXRH_purchase, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	tmpl_purchase_for_dualhead(0, 189)
}

spriteset(set_HMXR_engineH, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	engine(60, 108)
}

spriteset(set_HMXR_1F_wagon, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_1F(60, 135)
}

spriteset(set_HMXR_1F_wagon_r, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_1F_r(60, 135)
}

spriteset(set_HMXR_2F_wagon, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_2F(60, 162)
}

spriteset(set_HMXR_2F_wagon_r, "..\YSTset\Graphic\locomotive\HMX\HMX.png") {
    wagon_2F_r(60, 162)
}

spriteset(set_HMXR_engineT, "..\YSTset\Graphic\locomotive\HMX\HMX.png"){
	engine_r(60, 189)
}

/*--------------------------------------------------------------------
5.21.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_HMX_purchase, cargo_subtype) {
    set_HMX_purchase;
}

/*--------------------------------------------------------------------
5.21.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_HMX_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_HMXG);   // 녹색
    return string(STR_REFIT_LIVERY_HMXR);
}

switch(FEAT_TRAINS, SELF, sw_HMX_engineH, cargo_subtype) {
    1: set_HMXG_engineH;    // 녹색
    set_HMXR_engineH;
}

switch(FEAT_TRAINS, SELF, sw_HMX_engineT, cargo_subtype) {
    1: set_HMXG_engineT;    // 녹색
    set_HMXR_engineT;
}

switch(FEAT_TRAINS, SELF, sw_HMX_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_HMX_engineT;
	sw_HMX_engineH;
}

switch(FEAT_TRAINS, SELF, sw_HMX_1F_wagon_front, cargo_subtype) {
    1: set_HMXG_1F_wagon;    // 녹색
    set_HMXR_1F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_HMX_1F_wagon_tail, cargo_subtype) {
    1: set_HMXG_1F_wagon_r;    // 녹색
    set_HMXR_1F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_HMX_1F_wagon, position_in_consist) {
    1: sw_HMX_1F_wagon_tail;
    sw_HMX_1F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_HMX_2F_wagon_front, cargo_subtype) {
    1: set_HMXG_2F_wagon;    // 녹색
    set_HMXR_2F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_HMX_2F_wagon_tail, cargo_subtype) {
    1: set_HMXG_2F_wagon_r;    // 녹색
    set_HMXR_2F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_HMX_2F_wagon, position_in_consist) {
    1: sw_HMX_2F_wagon_tail;
    sw_HMX_2F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_HMX_wagon_attach, vehicle_type_id) {
    HMX:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_2F_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}
/*--------------------------------------------------------------------
5.21.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, HMX){
	property {
 		name:							string(STR_HMX_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							251km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					40;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_HMX_engine;
		purchase:						sw_HMX_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_HMX_wagon_attach;
        cargo_subtype_text:             sw_HMX_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_HMX);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_HMX_1F_wagon;
        cargo_subtype_text:             sw_HMX_cargo_subtype_text;
        cargo_capacity:                 80;
        loading_speed:                  25;
        running_cost_factor:            100;}
        
    livery_override(YST_Passinger_2F_Car) {
        default:                        sw_HMX_2F_wagon;
        cargo_subtype_text:             sw_HMX_cargo_subtype_text;
        cargo_capacity:                 160;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.22. ICE3
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.22.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_ICE3_purchase, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_ICE3H_purchase, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_ICE3_engineH, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png"){
	engine(60, 0)
}

spriteset(set_ICE3_wagon_start, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png"){
	wagon_start(60, 27)
}

spriteset(set_ICE3_wagon, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png") {
    wagon_1F(60, 54)
}

spriteset(set_ICE3_wagon_r, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_ICE3_wagon_end, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png"){
	wagon_start(60, 81)
}

spriteset(set_ICE3_engineT, "..\YSTset\Graphic\locomotive\ICE3\ICE3.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.22.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_ICE3_purchase, cargo_subtype) {
    set_ICE3_purchase;
}

/*--------------------------------------------------------------------
5.22.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_ICE3_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_ICE3_engineT;
	set_ICE3_engineH;
}

switch(FEAT_TRAINS, SELF, sw_ICE3_wagon_middle, (position_in_consist)) {
    1: set_ICE3_wagon_r;
    set_ICE3_wagon;
}

switch(FEAT_TRAINS, SELF, sw_ICE3_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    ICE3: set_ICE3_wagon_end;
    sw_ICE3_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_ICE3_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    ICE3: set_ICE3_wagon_start;
    sw_ICE3_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_ICE3_wagon_attach, vehicle_type_id) {
    ICE3:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.22.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, ICE3){
	property {
 		name:							string(STR_ICE3_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1997, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					30;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_ICE3_engine;
		purchase:						sw_ICE3_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_ICE3_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_ICE3);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_ICE3_wagon;
        cargo_capacity:                 50;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.23. ICE-SP
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.23.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_ICE_SP_purchase, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.23.1.1 ICE-산천
--------------------------------------------------------------------*/
spriteset(set_ICE_SancheonH_purchase, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_ICE_Sancheon_engineH, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png"){
	engine(60, 0)
}

spriteset(set_ICE_Sancheon_wagon_start, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png"){
	wagon_start(60, 27)
}

spriteset(set_ICE_Sancheon_wagon, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png") {
    wagon_1F(60, 54)
}

spriteset(set_ICE_Sancheon_wagon_r, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_ICE_Sancheon_wagon_end, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png"){
	wagon_start(60, 81)
}

spriteset(set_ICE_Sancheon_engineT, "..\YSTset\Graphic\locomotive\ICE3\ICE_Sancheon.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.23.1.2 ICE-팥죽
--------------------------------------------------------------------*/
spriteset(set_ICE_PatjugH_purchase, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_ICE_Patjug_engineH, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png"){
	engine(60, 0)
}

spriteset(set_ICE_Patjug_wagon_start, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png"){
	wagon_start(60, 27)
}

spriteset(set_ICE_Patjug_wagon, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png") {
    wagon_1F(60, 54)
}

spriteset(set_ICE_Patjug_wagon_r, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_ICE_Patjug_wagon_end, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png"){
	wagon_start(60, 81)
}

spriteset(set_ICE_Patjug_engineT, "..\YSTset\Graphic\locomotive\ICE3\ICE_Patjug.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.23.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_ICE_SP_purchase, cargo_subtype) {
    set_ICE_SP_purchase;
}

/*--------------------------------------------------------------------
5.23.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_ICE_SP_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_ICE_Patjug);   // 팥죽
    return string(STR_REFIT_LIVERY_ICE_Sancheon);
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_engineH, cargo_subtype) {
    1: set_ICE_Patjug_engineH;    // 팥죽
    set_ICE_Sancheon_engineH;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_engineT, cargo_subtype) {
    1: set_ICE_Patjug_engineT;    // 팥죽
    set_ICE_Sancheon_engineT;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_ICE_SP_engineT;
	sw_ICE_SP_engineH;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_start, cargo_subtype) {
    1: set_ICE_Patjug_wagon_start;    // 팥죽
    set_ICE_Sancheon_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_front, cargo_subtype) {
    1: set_ICE_Patjug_wagon;    // 팥죽
    set_ICE_Sancheon_wagon;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_tail, cargo_subtype) {
    1: set_ICE_Patjug_wagon_r;    // 팥죽
    set_ICE_Sancheon_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_end, cargo_subtype) {
    1: set_ICE_Patjug_wagon_end;    // 팥죽
    set_ICE_Sancheon_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_middle, (position_in_consist)) {
    1: sw_ICE_SP_wagon_tail;
    sw_ICE_SP_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    ICE_SP: sw_ICE_SP_wagon_end;
    sw_ICE_SP_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    ICE_SP: sw_ICE_SP_wagon_start;
    sw_ICE_SP_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_ICE_SP_wagon_attach, vehicle_type_id) {
    ICE_SP:     return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.23.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, ICE_SP){
	property {
 		name:							string(STR_ICE_SP_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					30;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_ICE_SP_engine;
		purchase:						sw_ICE_SP_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_ICE_SP_wagon_attach;
        cargo_subtype_text:             sw_ICE_SP_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_ICESP);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_ICE_SP_wagon;
        cargo_subtype_text:             sw_ICE_SP_cargo_subtype_text;
        cargo_capacity:                 50;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.24. KTX-N
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.24.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_KTX_N_purchase, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_KTX_NH_purchase, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_KTX_N_engineH, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png"){
	engine(60, 0)
}

spriteset(set_KTX_N_wagon_start, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png"){
	wagon_start(60, 27)
}

spriteset(set_KTX_N_wagon, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png") {
    wagon_1F(60, 54)
}

spriteset(set_KTX_N_wagon_r, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_KTX_N_wagon_end, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png"){
	wagon_start(60, 81)
}

spriteset(set_KTX_N_engineT, "..\YSTset\Graphic\locomotive\KTX_N\KTX_N.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.24.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_KTX_N_purchase, cargo_subtype) {
    set_KTX_N_purchase;
}

/*--------------------------------------------------------------------
5.24.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_KTX_N_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_KTX_N_engineT;
	set_KTX_N_engineH;
}

switch(FEAT_TRAINS, SELF, sw_KTX_N_wagon_middle, (position_in_consist)) {
    1: set_KTX_N_wagon_r;
    set_KTX_N_wagon;
}

switch(FEAT_TRAINS, SELF, sw_KTX_N_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    KTX_N: set_KTX_N_wagon_end;
    sw_KTX_N_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_KIN_N_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    KTX_N: set_KTX_N_wagon_start;
    sw_KTX_N_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_KTX_N_wagon_attach, vehicle_type_id) {
    KTX_N:     return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.24.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, KTX_N){
	property {
 		name:							string(STR_KTX_N_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_KTX_N_engine;
		purchase:						sw_KTX_N_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_KTX_N_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_KTXN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_KIN_N_wagon;
        cargo_capacity:                 116;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.25. 신칸센 N700계
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.25.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_N700_purchase, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.25.1.1 N700계
--------------------------------------------------------------------*/
spriteset(set_N700H_purchase, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_N700_engineH, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	engine(60, 0)
}

spriteset(set_N700_wagon_start, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	wagon_panto(60, 27)
}

spriteset(set_N700_wagon, "..\YSTset\Graphic\locomotive\N700\N700.png") {
    wagon_1F(60, 54)
}

spriteset(set_N700_wagon_r, "..\YSTset\Graphic\locomotive\N700\N700.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_N700_wagon_end, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	wagon_panto(60, 81)
}

spriteset(set_N700_engineT, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.25.1.1 N700 타이완 고속철도
--------------------------------------------------------------------*/
spriteset(set_N700TH_purchase, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	tmpl_purchase_for_dualhead(0, 243)
}

spriteset(set_N700T_engineH, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	engine(60, 135)
}

spriteset(set_N700T_wagon_start, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	wagon_panto(60, 162)
}

spriteset(set_N700T_wagon, "..\YSTset\Graphic\locomotive\N700\N700.png") {
    wagon_1F(60, 189)
}

spriteset(set_N700T_wagon_r, "..\YSTset\Graphic\locomotive\N700\N700.png") {
    wagon_1F_r(60, 189)
}

spriteset(set_N700T_wagon_end, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	wagon_panto(60, 216)
}

spriteset(set_N700T_engineT, "..\YSTset\Graphic\locomotive\N700\N700.png"){
	engine_r(60, 243)
}

/*--------------------------------------------------------------------
5.25.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_N700_purchase, cargo_subtype) {
    set_N700_purchase;
}

/*--------------------------------------------------------------------
5.25.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_N700_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_N700T);   // 타이완고속철도
    return string(STR_REFIT_LIVERY_N700);
}

switch(FEAT_TRAINS, SELF, sw_N700_engineH, cargo_subtype) {
    1: set_N700T_engineH;    // 타이완고속철도
    set_N700_engineH;
}

switch(FEAT_TRAINS, SELF, sw_N700_engineT, cargo_subtype) {
    1: set_N700T_engineT;    // 타이완고속철도
    set_N700_engineT;
}

switch(FEAT_TRAINS, SELF, sw_N700_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_N700_engineT;
	sw_N700_engineH;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_start, cargo_subtype) {
    1: set_N700T_wagon_start;    // 타이완고속철도
    set_N700_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_front, cargo_subtype) {
    1: set_N700T_wagon;    // 타이완고속철도
    set_N700_wagon;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_tail, cargo_subtype) {
    1: set_N700T_wagon_r;    // 타이완고속철도
    set_N700_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_end, cargo_subtype) {
    1: set_N700T_wagon_end;    // 타이완고속철도
    set_N700_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_middle, (position_in_consist)) {
    1: sw_N700_wagon_tail;
    sw_N700_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_rear, [STORE_TEMP(4, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    N700: sw_N700_wagon_end;
    sw_N700_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon, [STORE_TEMP(-4, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    N700: sw_N700_wagon_start;
    sw_N700_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_N700_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.25.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, N700){
	property {
 		name:							string(STR_N700_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2007, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					75;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
    
	graphics {
		default:						sw_N700_engine;
		purchase:						sw_N700_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_N700_wagon_attach;
        cargo_subtype_text:             sw_N700_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_N700_wagon;
        cargo_subtype_text:             sw_N700_cargo_subtype_text;
        cargo_capacity:                 100;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.26. NKX
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.26.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_NKX_purchase, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.26.1.1. NKX A도색
--------------------------------------------------------------------*/
spriteset(set_NKXAH_purchase, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_NKXA_engineH, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	engine(60, 0)
}

spriteset(set_NKXA_wagon_start, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	wagon_panto(60, 27)
}

spriteset(set_NKXA_1F_wagon, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_1F(60, 54)
}

spriteset(set_NKXA_1F_wagon_r, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_NKXA_2F_wagon, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_2F(60, 81)
}

spriteset(set_NKXA_2F_wagon_r, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_2F_r(60, 81)
}

spriteset(set_NKXA_wagon_end, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	wagon_panto(60, 108)
}

spriteset(set_NKXA_engineT, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.26.1.2. NKX B도색
--------------------------------------------------------------------*/
spriteset(set_NKXBH_purchase, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	tmpl_purchase_for_dualhead(0, 297)
}

spriteset(set_NKXB_engineH, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	engine(60, 162)
}

spriteset(set_NKXB_wagon_start, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	wagon_panto(60, 189)
}

spriteset(set_NKXB_1F_wagon, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_1F(60, 216)
}

spriteset(set_NKXB_1F_wagon_r, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_1F_r(60, 216)
}

spriteset(set_NKXB_2F_wagon, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_2F(60, 243)
}

spriteset(set_NKXB_2F_wagon_r, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_2F_r(60, 243)
}

spriteset(set_NKXB_wagon_end, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	wagon_panto(60, 270)
}

spriteset(set_NKXB_engineT, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	engine_r(60, 297)
}

/*--------------------------------------------------------------------
5.26.1.3. NKX C도색
--------------------------------------------------------------------*/
spriteset(set_NKXCH_purchase, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	tmpl_purchase_for_dualhead(0, 459)
}

spriteset(set_NKXC_engineH, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	engine(60, 324)
}

spriteset(set_NKXC_wagon_start, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	wagon_panto(60, 351)
}

spriteset(set_NKXC_1F_wagon, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_1F(60, 378)
}

spriteset(set_NKXC_1F_wagon_r, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_1F_r(60, 378)
}

spriteset(set_NKXC_2F_wagon, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_2F(60, 405)
}

spriteset(set_NKXC_2F_wagon_r, "..\YSTset\Graphic\locomotive\NKX\NKX.png") {
    wagon_2F_r(60, 405)
}

spriteset(set_NKXC_wagon_end, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	wagon_panto(60, 432)
}

spriteset(set_NKXC_engineT, "..\YSTset\Graphic\locomotive\NKX\NKX.png"){
	engine_r(60, 459)
}

/*--------------------------------------------------------------------
5.26.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_NKX_purchase, cargo_subtype) {
    set_NKX_purchase;
}

/*--------------------------------------------------------------------
5.26.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_NKX_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_NKXB);   // B도색
    2: return string(STR_REFIT_LIVERY_NKXC);   // C도색
    return string(STR_REFIT_LIVERY_NKXA);
}

switch(FEAT_TRAINS, SELF, sw_NKX_engineH, cargo_subtype) {
    1: set_NKXB_engineH;    // B도색
    2: set_NKXC_engineH;    // C도색
    set_NKXA_engineH;
}

switch(FEAT_TRAINS, SELF, sw_NKX_engineT, cargo_subtype) {
    1: set_NKXB_engineT;    // B도색
    2: set_NKXC_engineT;    // C도색
    set_NKXA_engineT;
}

switch(FEAT_TRAINS, SELF, sw_NKX_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_NKX_engineT;
	sw_NKX_engineH;
}

switch(FEAT_TRAINS, SELF, sw_NKX_wagon_start, cargo_subtype) {
    1: set_NKXB_wagon_start;    // B도색
    2: set_NKXC_wagon_start;    // C도색
    set_NKXA_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_NKX_1F_wagon_front, cargo_subtype) {
    1: set_NKXB_1F_wagon;    // B도색
    2: set_NKXC_1F_wagon;    // C도색
    set_NKXA_1F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_NKX_1F_wagon_tail, cargo_subtype) {
    1: set_NKXB_1F_wagon_r;    // B도색
    2: set_NKXC_1F_wagon_r;    // C도색
    set_NKXA_1F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_NKX_2F_wagon_front, cargo_subtype) {
    1: set_NKXB_2F_wagon;    // B도색
    2: set_NKXC_2F_wagon;    // C도색
    set_NKXA_2F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_NKX_2F_wagon_tail, cargo_subtype) {
    1: set_NKXB_2F_wagon_r;    // B도색
    2: set_NKXC_2F_wagon_r;    // C도색
    set_NKXA_2F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_NKX_SP_wagon_end, cargo_subtype) {
    1: set_NKXB_wagon_end;    // B도색
    2: set_NKXC_wagon_end;    // C도색
    set_NKXA_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_NKX_1F_wagon_middle, (position_in_consist)) {
    1: sw_NKX_1F_wagon_tail;
    sw_NKX_1F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_NKX_1F_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    NKX: sw_NKX_SP_wagon_end;
    sw_NKX_1F_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_NKX_1F_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    NKX: sw_NKX_wagon_start;
    sw_NKX_1F_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_NKX_2F_wagon_middle, (position_in_consist)) {
    1: sw_NKX_2F_wagon_tail;
    sw_NKX_2F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_NKX_2F_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    NKX: sw_NKX_SP_wagon_end;
    sw_NKX_2F_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_NKX_2F_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    NKX: sw_NKX_wagon_start;
    sw_NKX_2F_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_NKX_wagon_attach, vehicle_type_id) {
    NKX:            return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_2F_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}


/*--------------------------------------------------------------------
5.26.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, NKX){
	property {
 		name:							string(STR_NKX_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							150km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					72;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_NKX_engine;
		purchase:						sw_NKX_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_NKX_wagon_attach;
        cargo_subtype_text:             sw_NKX_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_NKX);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_NKX_1F_wagon;
        cargo_subtype_text:             sw_NKX_cargo_subtype_text;
        cargo_capacity:                 101;
        loading_speed:                  25;
        running_cost_factor:            100;}
        
    livery_override(YST_Passinger_2F_Car) {
        default:                        sw_NKX_2F_wagon;
        cargo_subtype_text:             sw_NKX_cargo_subtype_text;
        cargo_capacity:                 202;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.27. Talgo 250
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.27.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_TALGO_purchase, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.27.1.1. Alvia
--------------------------------------------------------------------*/
spriteset(set_ALVIAH_purchase, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_ALVIA_engineH, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	engine(60, 0)
}

spriteset(set_ALVIA_wagon_start, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	wagon_start(60, 27)
}

spriteset(set_ALVIA_wagon, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png") {
    wagon_1F_F(60, 54)
}

spriteset(set_ALVIA_wagon_bar, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png") {
    wagon_bar(60, 81)
}

spriteset(set_ALVIA_wagon_end, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	wagon_start(60, 108)
}

spriteset(set_ALVIA_engineT, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.27.1.2. Aprosiyob
--------------------------------------------------------------------*/
spriteset(set_APROSIYOBH_purchase, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	tmpl_purchase_for_dualhead(0, 297)
}

spriteset(set_APROSIYOB_engineH, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	engine(60, 162)
}

spriteset(set_APROSIYOB_wagon_start, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	wagon_start(60, 189)
}

spriteset(set_APROSIYOB_wagon, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png") {
    wagon_1F_F(60, 216)
}

spriteset(set_APROSIYOB_wagon_bar, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png") {
    wagon_bar(60, 243)
}

spriteset(set_APROSIYOB_wagon_end, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	wagon_start(60, 270)
}

spriteset(set_APROSIYOB_engineT, "..\YSTset\Graphic\locomotive\Talgo_250\Talgo_250.png"){
	engine_r(60, 297)
}

/*--------------------------------------------------------------------
5.27.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Talgo_purchase, cargo_subtype) {
    set_TALGO_purchase;
}

/*--------------------------------------------------------------------
5.27.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_Talgo_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_APROSIYOB);   // Aprosiyob
    return string(STR_REFIT_LIVERY_ALVIA);
}

switch(FEAT_TRAINS, SELF, sw_Talgo_engineH, cargo_subtype) {
    1: set_APROSIYOB_engineH;    // Aprosiyob
    set_ALVIA_engineH;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_engineT, cargo_subtype) {
    1: set_APROSIYOB_engineT;    // Aprosiyob
    set_ALVIA_engineT;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_Talgo_engineT;
	sw_Talgo_engineH;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon_start, cargo_subtype) {
    1: set_APROSIYOB_wagon_start;    // Aprosiyob
    set_ALVIA_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon_middle, cargo_subtype) {
    1: set_APROSIYOB_wagon;    // Aprosiyob
    set_ALVIA_wagon;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_bar, cargo_subtype) {
    1: set_APROSIYOB_wagon_bar;    // Aprosiyob
    set_ALVIA_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon_end, cargo_subtype) {
    1: set_APROSIYOB_wagon_end;    // Aprosiyob
    set_ALVIA_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon_bar, (position_in_consist %5) + 1) {
    1: sw_Talgo_bar;
    sw_Talgo_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TALGO: sw_Talgo_wagon_end;
    sw_Talgo_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TALGO: sw_Talgo_wagon_start;
    sw_Talgo_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_Talgo_wagon_attach, vehicle_type_id) {
    TALGO:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.27.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TALGO){
	property {
 		name:							string(STR_TALGO250_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2012, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							250km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_Talgo_engine;
		purchase:						sw_Talgo_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_Talgo_wagon_attach;
        cargo_subtype_text:             sw_Talgo_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_Talgo);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_Talgo_wagon;
        cargo_subtype_text:             sw_Talgo_cargo_subtype_text;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.28. TGV Old
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.28.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_Tgv_Old_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_Tgv_OldH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_Tgv_Old_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png"){
	engine(60, 0)
}

spriteset(set_Tgv_Old_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png"){
	wagon_start(60, 27)
}

spriteset(set_Tgv_Old_wagon, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png") {
    wagon_1F(60, 54)
}

spriteset(set_Tgv_Old_wagon_r, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_Tgv_Old_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png"){
	wagon_start(60, 81)
}

spriteset(set_Tgv_Old_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_Old.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.28.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_OLD_purchase, cargo_subtype) {
    set_Tgv_Old_purchase;
}

/*--------------------------------------------------------------------
5.28.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_Old_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_Tgv_Old_engineT;
	set_Tgv_Old_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Old_wagon_middle, (position_in_consist)) {
    1: set_Tgv_Old_wagon_r;
    set_Tgv_Old_wagon;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Old_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TGV_OLD: set_Tgv_Old_wagon_end;
    sw_TGV_Old_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Old_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TGV_OLD: set_Tgv_Old_wagon_start;
    sw_TGV_Old_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Old_wagon_attach, vehicle_type_id) {
    TGV_OLD:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.28.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TGV_OLD){
	property {
 		name:							string(STR_TGV_OLD_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1978, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_TGV_Old_engine;
		purchase:						sw_TGV_OLD_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_TGV_Old_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_TGV_OLD);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_TGV_Old_wagon;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.29. TGV OLD Pos
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.29.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_Pos_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.29.1.1. TGV Old Pos
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_PosH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	tmpl_purchase_for_dualhead(0, 162)
}

spriteset(set_TGV_OLD_Pos_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	engine(60, 0)
}

spriteset(set_TGV_OLD_Pos_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	wagon_start(60, 27)
}

spriteset(set_TGV_OLD_Pos_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_1F_F(60, 54)
}

spriteset(set_TGV_OLD_Pos_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_bar(60, 81)
}

spriteset(set_TGV_OLD_Pos_wagon_special, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_1F_F(60, 108)
}

spriteset(set_TGV_OLD_Pos_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	wagon_start(60, 135)
}

spriteset(set_TGV_OLD_Pos_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	engine_r(60, 162)
}

/*--------------------------------------------------------------------
5.29.1.2. TGV Old Lyair
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_LyairH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	tmpl_purchase_for_dualhead(0, 324)
}

spriteset(set_TGV_OLD_Lyair_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	engine(60, 189)
}

spriteset(set_TGV_OLD_Lyair_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	wagon_start(60, 216)
}

spriteset(set_TGV_OLD_Lyair_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_1F_F(60, 243)
}

spriteset(set_TGV_OLD_Lyair_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_bar(60, 270)
}

spriteset(set_TGV_OLD_Lyair_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	wagon_start(60, 297)
}

spriteset(set_TGV_OLD_Lyair_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	engine_r(60, 324)
}

/*--------------------------------------------------------------------
5.29.1.3. TGV Old Thalys
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_ThalysH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	tmpl_purchase_for_dualhead(0, 486)
}

spriteset(set_TGV_OLD_Thalys_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	engine(60, 351)
}

spriteset(set_TGV_OLD_Thalys_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	wagon_start(60, 378)
}

spriteset(set_TGV_OLD_Thalys_wagon, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_1F_F(60, 405)
}

spriteset(set_TGV_OLD_Thalys_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png") {
    wagon_bar(60, 432)
}

spriteset(set_TGV_OLD_Thalys_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	wagon_start(60, 459)
}

spriteset(set_TGV_OLD_Thalys_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_POS.png"){
	engine_r(60, 486)
}

/*--------------------------------------------------------------------
5.29.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_OLD_POS_purchase, cargo_subtype) {
    set_TGV_OLD_Pos_purchase;
}

/*--------------------------------------------------------------------
5.29.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_TGV_OLD_LYAIR);           
    2: return string(STR_REFIT_LIVERY_TGV_OLD_THALYS);           
    return string(STR_REFIT_LIVERY_TGV_OLD_POS);
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_engineH, cargo_subtype) {
    1: set_TGV_OLD_Lyair_engineH;
    2: set_TGV_OLD_Thalys_engineH;
    set_TGV_OLD_Pos_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_engineT, cargo_subtype) {
    1: set_TGV_OLD_Lyair_engineT;
    2: set_TGV_OLD_Thalys_engineT;
    set_TGV_OLD_Pos_engineT;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_TGV_OLD_Pos_engineT;
	sw_TGV_OLD_Pos_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_start, cargo_subtype) {
    1: set_TGV_OLD_Lyair_wagon_start;
    2: set_TGV_OLD_Thalys_wagon_start;
    set_TGV_OLD_Pos_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_special_middle, (position_in_vehid_chain + 1) <= (num_vehs_in_vehid_chain / 2)) {
    1: set_TGV_OLD_Pos_wagon_nomal;
    set_TGV_OLD_Pos_wagon_special;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_middle, cargo_subtype) {
    1: set_TGV_OLD_Lyair_wagon_nomal;
    2: set_TGV_OLD_Thalys_wagon;
    sw_TGV_OLD_Pos_wagon_special_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_bar_middle, cargo_subtype) {
    1: set_TGV_OLD_Lyair_wagon_bar;
    2: set_TGV_OLD_Thalys_wagon_bar;
    set_TGV_OLD_Pos_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_end, cargo_subtype) {
    1: set_TGV_OLD_Lyair_wagon_end;
    2: set_TGV_OLD_Thalys_wagon_end;
    set_TGV_OLD_Pos_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_bar, (position_in_consist %5) + 1) {
    1: sw_TGV_OLD_Pos_wagon_bar_middle;
    sw_TGV_OLD_Pos_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TGV_OLD_Pos: sw_TGV_OLD_Pos_wagon_end;
    sw_TGV_OLD_Pos_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TGV_OLD_Pos: sw_TGV_OLD_Pos_wagon_start;
    sw_TGV_OLD_Pos_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Pos_wagon_attach, vehicle_type_id) {
   TGV_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Duplex:              return CB_RESULT_ATTACH_ALLOW;
   TGV_Duplex:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.29.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TGV_OLD_Pos){
	property {
 		name:							string(STR_TGV_OLD_Pos_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1978, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_TGV_OLD_Pos_engine;
		purchase:						sw_TGV_OLD_POS_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_TGV_OLD_Pos_wagon_attach;
        cargo_subtype_text:             sw_TGV_OLD_Pos_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_TGV);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_TGV_OLD_Pos_wagon;
        cargo_subtype_text:             sw_TGV_OLD_Pos_cargo_subtype_text;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.30. TGV Pos
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.30.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_TGV_Pos_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.30.1.1. TGV Pos
--------------------------------------------------------------------*/
spriteset(set_TGV_PosH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	tmpl_purchase_for_dualhead(0, 162)
}

spriteset(set_TGV_Pos_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	engine(60, 0)
}

spriteset(set_TGV_Pos_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	wagon_start(60, 27)
}

spriteset(set_TGV_Pos_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_1F_F(60, 54)
}

spriteset(set_TGV_Pos_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_bar(60, 81)
}

spriteset(set_TGV_Pos_wagon_special, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_1F_F(60, 108)
}

spriteset(set_TGV_Pos_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	wagon_start(60, 135)
}

spriteset(set_TGV_Pos_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	engine_r(60, 162)
}

/*--------------------------------------------------------------------
5.30.1.2. TGV Lyair
--------------------------------------------------------------------*/
spriteset(set_TGV_LyairH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	tmpl_purchase_for_dualhead(0, 324)
}

spriteset(set_TGV_Lyair_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	engine(60, 189)
}

spriteset(set_TGV_Lyair_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	wagon_start(60, 216)
}

spriteset(set_TGV_Lyair_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_1F_F(60, 243)
}

spriteset(set_TGV_Lyair_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_bar(60, 270)
}

spriteset(set_TGV_Lyair_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	wagon_start(60, 297)
}

spriteset(set_TGV_Lyair_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	engine_r(60, 324)
}

/*--------------------------------------------------------------------
5.30.1.3. TGV Thalys
--------------------------------------------------------------------*/
spriteset(set_TGV__ThalysH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	tmpl_purchase_for_dualhead(0, 486)
}

spriteset(set_TGV_Thalys_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	engine(60, 351)
}

spriteset(set_TGV_halys_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	wagon_start(60, 378)
}

spriteset(set_TGV_Thalys_wagon, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_1F_F(60, 405)
}

spriteset(set_TGV_Thalys_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png") {
    wagon_bar(60, 432)
}

spriteset(set_TGV_Thalys_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	wagon_start(60, 459)
}

spriteset(set_TGV_Thalys_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_POS.png"){
	engine_r(60, 486)
}

/*--------------------------------------------------------------------
5.30.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_POS_purchase, cargo_subtype) {
    set_TGV_Pos_purchase;
}

/*--------------------------------------------------------------------
5.30.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_Pos_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_TGV_LYAIR);           
    2: return string(STR_REFIT_LIVERY_TGV_THALYS);           
    return string(STR_REFIT_LIVERY_TGV_POS);
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_engineH, cargo_subtype) {
    1: set_TGV_Lyair_engineH;
    2: set_TGV_Thalys_engineH;
    set_TGV_Pos_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_engineT, cargo_subtype) {
    1: set_TGV_Lyair_engineT;
    2: set_TGV_Thalys_engineT;
    set_TGV_Pos_engineT;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_TGV_Pos_engineT;
	sw_TGV_Pos_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_start, cargo_subtype) {
    1: set_TGV_Lyair_wagon_start;
    2: set_TGV_halys_wagon_start;
    set_TGV_Pos_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_special_middle, (position_in_vehid_chain + 1) <= (num_vehs_in_vehid_chain / 2)) {
    1: set_TGV_Pos_wagon_nomal;
    set_TGV_Pos_wagon_special;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_middle, cargo_subtype) {
    1: set_TGV_Lyair_wagon_nomal;
    2: set_TGV_Thalys_wagon;
    sw_TGV_Pos_wagon_special_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_bar_middle, cargo_subtype) {
    1: set_TGV_Lyair_wagon_bar;
    2: set_TGV_Thalys_wagon_bar;
    set_TGV_Pos_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_end, cargo_subtype) {
    1: set_TGV_Lyair_wagon_end;
    2: set_TGV_Thalys_wagon_end;
    set_TGV_Pos_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_bar, (position_in_consist %5) + 1) {
    1: sw_TGV_Pos_wagon_bar_middle;
    sw_TGV_Pos_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TGV_Pos: sw_TGV_Pos_wagon_end;
    sw_TGV_Pos_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TGV_Pos: sw_TGV_Pos_wagon_start;
    sw_TGV_Pos_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Pos_wagon_attach, vehicle_type_id) {
   TGV_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Duplex:              return CB_RESULT_ATTACH_ALLOW;
   TGV_Duplex:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.30.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TGV_Pos){
	property {
 		name:							string(STR_TGV_Pos_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2006, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_TGV_Pos_engine;
		purchase:						sw_TGV_POS_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_TGV_Pos_wagon_attach;
        cargo_subtype_text:             sw_TGV_Pos_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_TGV);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_TGV_Pos_wagon;
        cargo_subtype_text:             sw_TGV_Pos_cargo_subtype_text;
        cargo_capacity:                 85;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.31. TGV OLD_Duplex
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.31.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_Duplex_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.31.1.1. TGV OLD Duplex
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_DuplexH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	tmpl_purchase_for_dualhead(0, 162)
}

spriteset(set_TGV_OLD_Duplex_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	engine(60, 0)
}

spriteset(set_TGV_OLD_Duplex_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	wagon_start(60, 27)
}

spriteset(set_TGV_OLD_Duplex_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png") {
    wagon_1F_F(60, 54)
}

spriteset(set_TGV_OLD_Duplex_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png") {
    wagon_bar(60, 81)
}

spriteset(set_TGV_OLD_Duplex_wagon_special, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png") {
    wagon_1F_F(60, 108)
}

spriteset(set_TGV_OLD_Duplex_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	wagon_start(60, 135)
}

spriteset(set_TGV_OLD_Duplex_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	engine_r(60, 162)
}

/*--------------------------------------------------------------------
5.31.1.2. TGV Lyair
--------------------------------------------------------------------*/
spriteset(set_TGV_OLD_Duplex_LyairH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	tmpl_purchase_for_dualhead(0, 351)
}

spriteset(set_TGV_OLD_Duplex_Lyair_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	engine(60, 189)
}

spriteset(set_TGV_OLD_Duplex_Lyair_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	wagon_start(60, 216)
}

spriteset(set_TGV_OLD_Duplex_Lyair_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png") {
    wagon_1F_F(60, 243)
}

spriteset(set_TGV_OLD_Duplex_Lyair_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png") {
    wagon_bar(60, 270)
}

spriteset(set_TGV_OLD_Duplex_Lyair_wagon_special, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png") {
    wagon_1F_F(60, 297)
}

spriteset(set_TGV_OLD_Duplex_Lyair_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	wagon_start(60, 324)
}

spriteset(set_TGV_OLD_Duplex_Lyair_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_OLD_Duplex.png"){
	engine_r(60, 351)
}

/*--------------------------------------------------------------------
5.31.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_purchase, cargo_subtype) {
    set_TGV_OLD_Duplex_purchase;
}

/*--------------------------------------------------------------------
5.31.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_TGV_OLD_LYAIR_Duplex);           
    return string(STR_REFIT_LIVERY_TGV_OLD_Duplex);
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_engineH, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_engineH;
    set_TGV_OLD_Duplex_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_engineT, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_engineT;
    set_TGV_OLD_Duplex_engineT;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_TGV_OLD_Duplex_engineT;
	sw_TGV_OLD_Duplex_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_start, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_wagon_start;
    set_TGV_OLD_Duplex_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_nomal, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_wagon_nomal;
    set_TGV_OLD_Duplex_wagon_nomal;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_special, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_wagon_special;
    set_TGV_OLD_Duplex_wagon_special;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_special_middle, (position_in_vehid_chain + 1) <= (num_vehs_in_vehid_chain / 2)) {
    1: sw_TGV_OLD_Duplex_wagon_nomal;
    sw_TGV_OLD_Duplex_wagon_special;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_bar_middle, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_wagon_bar;
    set_TGV_OLD_Duplex_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_end, cargo_subtype) {
    1: set_TGV_OLD_Duplex_Lyair_wagon_end;
    set_TGV_OLD_Duplex_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_bar, (position_in_consist %5) + 1) {
    1: sw_TGV_OLD_Duplex_wagon_bar_middle;
    sw_TGV_OLD_Duplex_wagon_special_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TGV_OLD_Duplex: sw_TGV_OLD_Duplex_wagon_end;
    sw_TGV_OLD_Duplex_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TGV_OLD_Duplex: sw_TGV_OLD_Duplex_wagon_start;
    sw_TGV_OLD_Duplex_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_TGV_OLD_Duplex_wagon_attach, vehicle_type_id) {
   TGV_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Duplex:              return CB_RESULT_ATTACH_ALLOW;
   TGV_Duplex:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.31.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TGV_OLD_Duplex){
	property {
 		name:							string(STR_TGV_OLD_Duplex_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1994, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:				    1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_TGV_OLD_Duplex_engine;
		purchase:						sw_TGV_OLD_Duplex_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_TGV_OLD_Duplex_wagon_attach;
        cargo_subtype_text:             sw_TGV_OLD_Duplex_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_TGV);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_TGV_OLD_Duplex_wagon;
        cargo_subtype_text:             sw_TGV_OLD_Duplex_cargo_subtype_text;
        cargo_capacity:                 170;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.32. TGV Duplex
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.32.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_TGV_Duplex_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.32.1.1. TGV Duplex
--------------------------------------------------------------------*/
spriteset(set_TGV_DuplexH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	tmpl_purchase_for_dualhead(0, 162)
}

spriteset(set_TGV_Duplex_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	engine(60, 0)
}

spriteset(set_TGV_Duplex_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	wagon_start(60, 27)
}

spriteset(set_TGV_Duplex_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png") {
    wagon_1F_F(60, 54)
}

spriteset(set_TGV_Duplex_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png") {
    wagon_bar(60, 81)
}

spriteset(set_TGV_Duplex_wagon_special, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png") {
    wagon_1F_F(60, 108)
}

spriteset(set_TGV_Duplex_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	wagon_start(60, 135)
}

spriteset(set_TGV_Duplex_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	engine_r(60, 162)
}

/*--------------------------------------------------------------------
5.32.1.2. TGV Lyair
--------------------------------------------------------------------*/
spriteset(set_TGV_Duplex_LyairH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	tmpl_purchase_for_dualhead(0, 324)
}

spriteset(set_TGV_Duplex_Lyair_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	engine(60, 189)
}

spriteset(set_TGV_Duplex_Lyair_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	wagon_start(60, 216)
}

spriteset(set_TGV_Duplex_Lyair_wagon_nomal, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png") {
    wagon_1F_F(60, 243)
}

spriteset(set_TGV_Duplex_Lyair_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png") {
    wagon_bar(60, 270)
}

spriteset(set_TGV_Duplex_Lyair_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	wagon_start(60, 297)
}

spriteset(set_TGV_Duplex_Lyair_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_Duplex.png"){
	engine_r(60, 324)
}

/*--------------------------------------------------------------------
5.32.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_purchase, cargo_subtype) {
    set_TGV_Duplex_purchase;
}

/*--------------------------------------------------------------------
5.32.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_TGV_LYAIR_Duplex);           
    return string(STR_REFIT_LIVERY_TGV_Duplex);
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_engineH, cargo_subtype) {
    1: set_TGV_Duplex_Lyair_engineH;
    set_TGV_Duplex_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_engineT, cargo_subtype) {
    1: set_TGV_Duplex_Lyair_engineT;
    set_TGV_Duplex_engineT;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_TGV_Duplex_engineT;
	sw_TGV_Duplex_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_start, cargo_subtype) {
    1: set_TGV_Duplex_Lyair_wagon_start;
    set_TGV_Duplex_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_special_middle, (position_in_vehid_chain + 1) <= (num_vehs_in_vehid_chain / 2)) {
    1: set_TGV_Duplex_wagon_nomal;
    set_TGV_Duplex_wagon_special;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_middle, cargo_subtype) {
    1: set_TGV_Duplex_Lyair_wagon_nomal;
    sw_TGV_Duplex_wagon_special_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_bar_middle, cargo_subtype) {
    1: set_TGV_Duplex_Lyair_wagon_bar;
    set_TGV_Duplex_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_end, cargo_subtype) {
    1: set_TGV_Duplex_Lyair_wagon_end;
    set_TGV_Duplex_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_bar, (position_in_consist %5) + 1) {
    1: sw_TGV_Duplex_wagon_bar_middle;
    sw_TGV_Duplex_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TGV_Duplex: sw_TGV_Duplex_wagon_end;
    sw_TGV_Duplex_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TGV_Duplex: sw_TGV_Duplex_wagon_start;
    sw_TGV_Duplex_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Duplex_wagon_attach, vehicle_type_id) {
   TGV_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Pos:              return CB_RESULT_ATTACH_ALLOW;
   TGV_OLD_Duplex:              return CB_RESULT_ATTACH_ALLOW;
   TGV_Duplex:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.32.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TGV_Duplex){
	property {
 		name:							string(STR_TGV_Duplex_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(1994, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_TGV_Duplex_engine;
		purchase:						sw_TGV_Duplex_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_TGV_Duplex_wagon_attach;
        cargo_subtype_text:             sw_TGV_Duplex_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_TGV);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_TGV_Duplex_wagon;
        cargo_subtype_text:             sw_TGV_Duplex_cargo_subtype_text;
        cargo_capacity:                 170;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
                
/*--------------------------------------------------------------------
5.33. TGV Ouigo
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.33.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_TGV_Ouigo_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_TGV_OuigoH_purchase, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_TGV_Ouigo_engineH, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png"){
	engine(60, 0)
}

spriteset(set_TGV_Ouigo_wagon_start, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png"){
	wagon_start(60, 27)
}

spriteset(set_TGV_Ouigo_wagon, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png") {
    wagon_1F_F(60, 54)
}

spriteset(set_TGV_Ouigo_wagon_bar, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png") {
    wagon_bar(60, 81)
}

spriteset(set_TGV_Ouigo_wagon_end, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png"){
	wagon_start(60, 108)
}

spriteset(set_TGV_Ouigo_engineT, "..\YSTset\Graphic\locomotive\TGV\TGV_Ouigo.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.33.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_Ouigo_purchase, cargo_subtype) {
    set_TGV_Ouigo_purchase;
}

/*--------------------------------------------------------------------
5.33.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_TGV_Ouigo_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_TGV_Ouigo_engineT;
	set_TGV_Ouigo_engineH;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Ouigo_wagon_bar, (position_in_consist %5) + 1) {
    1: set_TGV_Ouigo_wagon_bar;
    set_TGV_Ouigo_wagon;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Ouigo_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    TGV_Ouigo: set_TGV_Ouigo_wagon_end;
    sw_TGV_Ouigo_wagon_bar;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Ouigo_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    TGV_Ouigo: set_TGV_Ouigo_wagon_start;
    sw_TGV_Ouigo_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_TGV_Ouigo_wagon_attach, vehicle_type_id) {
   TGV_Ouigo:              return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.33.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, TGV_Ouigo){
	property {
 		name:							string(STR_TGV_Ouigo_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2013, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_TGV_Ouigo_engine;
		purchase:						sw_TGV_Ouigo_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_TGV_Ouigo_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_TGV_Ouigo);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_TGV_Ouigo_wagon;
        cargo_capacity:                 170;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.34. VTX
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.34.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_VTX_purchase, "..\YSTset\Graphic\locomotive\VTX\VTX.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_VTXH_purchase, "..\YSTset\Graphic\locomotive\VTX\VTX.png"){
	tmpl_purchase_for_dualhead(0, 54)
}

spriteset(set_VTX_engineH, "..\YSTset\Graphic\locomotive\VTX\VTX.png"){
	engine(60, 0)
}

spriteset(set_VTX_wagon, "..\YSTset\Graphic\locomotive\VTX\VTX.png") {
    wagon_1F(60, 27)
}

spriteset(set_VTX_wagon_r, "..\YSTset\Graphic\locomotive\VTX\VTX.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_VTX_engineT, "..\YSTset\Graphic\locomotive\VTX\VTX.png"){
	engine_r(60, 54)
}

/*--------------------------------------------------------------------
5.34.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_VTX_purchase, cargo_subtype) {
    set_VTX_purchase;
}

/*--------------------------------------------------------------------
5.34.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_VTX_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_VTX_engineT;
	set_VTX_engineH;
}

switch(FEAT_TRAINS, SELF, sw_VTX_wagon, (position_in_consist)) {
    1: set_VTX_wagon_r;
    set_VTX_wagon;
}

switch(FEAT_TRAINS, SELF, sw_VTX_wagon_attach, vehicle_type_id) {
   VTX:              return CB_RESULT_ATTACH_ALLOW;
   YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
   return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.34.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, VTX){
	property {
 		name:							string(STR_VTX_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							600km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					40;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
    
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
        
	graphics {
		default:						sw_VTX_engine;
		purchase:						sw_VTX_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_VTX_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_VTX);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_VTX_wagon;
        cargo_capacity:                 80;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }
        
/*--------------------------------------------------------------------
5.35. YFX
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.35.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_YFX_purchase, "..\YSTset\Graphic\locomotive\YFX\YFX.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_YFXF_purchase, "..\YSTset\Graphic\locomotive\YFX\YFX.png"){
	tmpl_wagon_purchase(0, 27)
}

spriteset(set_YFXH_purchase, "..\YSTset\Graphic\locomotive\YFX\YFX.png"){
	tmpl_purchase_for_dualhead(0, 54)
}

spriteset(set_YFX_engineH, "..\YSTset\Graphic\locomotive\YFX\YFX.png"){
	engine(60, 0)
}

spriteset(set_YFX_wagon, "..\YSTset\Graphic\locomotive\YFX\YFX.png") {
    wagon_1F(60, 27)
}

spriteset(set_YFX_wagon_r, "..\YSTset\Graphic\locomotive\YFX\YFX.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_YFX_engineT, "..\YSTset\Graphic\locomotive\YFX\YFX.png"){
	engine_r(60, 54)
}

/*--------------------------------------------------------------------
5.35.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YFX_purchase, cargo_subtype) {
    set_YFX_purchase;
}

switch(FEAT_TRAINS, SELF, sw_YFXF_purchase, cargo_subtype) {
    set_YFXF_purchase;
}

/*--------------------------------------------------------------------
5.35.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YFX_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_YFX_engineT;
	set_YFX_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YFX_wagon, (position_in_consist)) {
    1: set_YFX_wagon_r;
    set_YFX_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YFX_wagon_attach, vehicle_type_id) {
   YFX:              return CB_RESULT_ATTACH_ALLOW;
   YFXF:        return CB_RESULT_ATTACH_ALLOW;
   return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.35.4.1. 운전차량 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, YFX){
	property {
 		name:							string(STR_YFX_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							600km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					100;
        refittable_cargo_classes:		bitmask(CC_MAIL, CC_EXPRESS, CC_ARMOURED, CC_BULK, CC_PIECE_GOODS, CC_LIQUID, CC_REFRIGERATED, CC_HAZARDOUS, CC_COVERED, CC_OVERSIZED, CC_POWDERIZED, CC_NON_POURABLE, CC_NEO_BULK);
        non_refittable_cargo_classes:	bitmask(CC_PASSENGERS);
    
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
        
	graphics {
		default:						sw_YFX_engine;
		purchase:						sw_YFX_purchase;
        can_attach_wagon:               sw_YFX_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
}

    livery_override(YFXF) {
        default:                        sw_YFX_wagon;
        cargo_capacity:                 200;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.35.4.2. 화물차량 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, YFXF){
	property {
 		name:							string(STR_YFXF_NAME);
 		climates_available:				ALL_CLIMATES;
		track_type:						RAIL;
		power:							0;
		weight:							20 ton;
		extra_weight_per_wagon:			20 ton;
		tractive_effort_coefficient:	0.3;
		cargo_capacity:					200;
		loading_speed:					25;
		vehicle_life:					255;
		introduction_date:				date(2020, 1, 1);
		model_life:						VEHICLE_NEVER_EXPIRES;
		retire_early:					0;
		reliability_decay:				0;
		cost_factor:					10;
		running_cost_base:				RUNNING_COST_ELECTRIC;
		running_cost_factor:			50;
		refit_cost:						0;
		engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
		misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        refittable_cargo_classes:		bitmask(CC_MAIL, CC_EXPRESS, CC_ARMOURED, CC_BULK, CC_PIECE_GOODS, CC_LIQUID, CC_REFRIGERATED, CC_HAZARDOUS, CC_COVERED, CC_OVERSIZED, CC_POWDERIZED, CC_NON_POURABLE, CC_NEO_BULK);
        non_refittable_cargo_classes:	bitmask();}

	graphics {
		default:						sw_YFX_wagon;
		purchase:						sw_YFXF_purchase;
    }
    }
    
/*--------------------------------------------------------------------
5.36. YN
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.36.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_YN_purchase, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.36.1.1. YN01
--------------------------------------------------------------------*/
spriteset(set_YN01_purchase, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_YN01_engineH, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	engine(60, 0)
}

spriteset(set_YN01_wagon_start, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	wagon_start(60, 27)
}

spriteset(set_YN01_wagon, "..\YSTset\Graphic\locomotive\YN\YN.png") {
    wagon_1F(60, 54)
}

spriteset(set_YN01_wagon_r, "..\YSTset\Graphic\locomotive\YN\YN.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_YN01_wagon_end, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	wagon_start(60, 81)
}

spriteset(set_YN01_engineT, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.36.1.2. YN01-Yellow
--------------------------------------------------------------------*/
spriteset(set_YN01Y_purchase, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	tmpl_purchase_for_dualhead(0, 243)
}

spriteset(set_YN01Y_engineH, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	engine(60, 135)
}

spriteset(set_YN01Y_wagon_start, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	wagon_start(60, 162)
}

spriteset(set_YN01Y_wagon, "..\YSTset\Graphic\locomotive\YN\YN.png") {
    wagon_1F(60, 189)
}

spriteset(set_YN01Y_wagon_r, "..\YSTset\Graphic\locomotive\YN\YN.png") {
    wagon_1F_r(60, 189)
}

spriteset(set_YN01Y_wagon_end, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	wagon_start(60, 216)
}

spriteset(set_YN01Y_engineT, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	engine_r(60, 243)
}
/*--------------------------------------------------------------------
5.36.1.3. YN02
--------------------------------------------------------------------*/
spriteset(set_YN02_purchase, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	tmpl_purchase_for_dualhead(0, 378)
}

spriteset(set_YN02_engineH, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	engine(60, 270)
}

spriteset(set_YN02_wagon_start, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	wagon_start(60, 297)
}

spriteset(set_YN02_wagon, "..\YSTset\Graphic\locomotive\YN\YN.png") {
    wagon_1F(60, 324)
}

spriteset(set_YN02_wagon_r, "..\YSTset\Graphic\locomotive\YN\YN.png") {
    wagon_1F_r(60, 324)
}

spriteset(set_YN02_wagon_end, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	wagon_start(60, 351)
}

spriteset(set_YN02_engineT, "..\YSTset\Graphic\locomotive\YN\YN.png"){
	engine_r(60, 378)
}

/*--------------------------------------------------------------------
5.36.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YN_purchase, cargo_subtype) {
    set_YN_purchase;
}

/*--------------------------------------------------------------------
5.36.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YN_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_YN01Y);   // YN01-Yellow
    2: return string(STR_REFIT_LIVERY_YN02);    // YN02
    return string(STR_REFIT_LIVERY_YN01);
}

switch(FEAT_TRAINS, SELF, sw_YN_engineH, cargo_subtype) {
    1: set_YN01Y_engineH;   // YN01-Yellow
    2: set_YN02_engineH;    // YN02
    set_YN01_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YN_engineT, cargo_subtype) {
    1: set_YN01Y_engineT;   // YN01-Yellow
    2: set_YN02_engineT;    // YN02
    set_YN01_engineT;
}

switch(FEAT_TRAINS, SELF, sw_YN_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_YN_engineT;
	sw_YN_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_start, cargo_subtype) {
    1: set_YN01Y_wagon_start;   // YN01-Yellow
    2: set_YN02_wagon_start;    // YN02
    set_YN01_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_front, cargo_subtype) {
    1: set_YN01Y_wagon;   // YN01-Yellow
    2: set_YN02_wagon;    // YN02
    set_YN01_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_tail, cargo_subtype) {
    1: set_YN01Y_wagon_r;   // YN01-Yellow
    2: set_YN02_wagon_r;    // YN02
    set_YN01_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_end, cargo_subtype) {
    1: set_YN01Y_wagon_end;   // YN01-Yellow
    2: set_YN02_wagon_end;    // YN02
    set_YN01_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_YN_speed, cargo_subtype) {
    1: return 150;
    2: return 250;
    return 150;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_middle, (position_in_consist)) {
    1: sw_YN_wagon_tail;
    sw_YN_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    YN: sw_YN_wagon_end;
    sw_YN_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    YN: sw_YN_wagon_start;
    sw_YN_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_YN_wagon_attach, vehicle_type_id) {
    YN:             return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.36.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, YN){
	property {
 		name:							string(STR_YN_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					58;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        cost_factor:					10;
		running_cost_factor:			150;
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_YN_engine;
		purchase:						sw_YN_purchase;
        speed:							sw_YN_speed;
        loading_speed:					25;
		can_attach_wagon:               sw_YN_wagon_attach;
        cargo_subtype_text:             sw_YN_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_YN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_YN_wagon;
        cargo_subtype_text:             sw_YN_cargo_subtype_text;
        cargo_capacity:                 70;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }

/*--------------------------------------------------------------------
5.37. YTRO 100
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.37.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_YTRO_100_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.37.1.1. YTRO 100 A
--------------------------------------------------------------------*/
spriteset(set_YTRO_100AH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	tmpl_purchase_for_dualhead(0, 54)
}

spriteset(set_YTRO_100A_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine(60, 0)
}

spriteset(set_YTRO_100A_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F(60, 27)
}

spriteset(set_YTRO_100A_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_YTRO_100A_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 0)
}

spriteset(set_YTRO_100A_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 0)
}

spriteset(set_YTRO_100A_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine_r(60, 54)
}

/*--------------------------------------------------------------------
5.37.1.2. YTRO 100 B
--------------------------------------------------------------------*/
spriteset(set_YTRO_100BH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_YTRO_100B_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine(60, 81)
}

spriteset(set_YTRO_100B_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F(60, 108)
}

spriteset(set_YTRO_100B_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F_r(60, 108)
}

spriteset(set_YTRO_100B_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 27)
}

spriteset(set_YTRO_100B_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 27)
}

spriteset(set_YTRO_100B_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.37.1.3. YTRO 100 C
--------------------------------------------------------------------*/
spriteset(set_YTRO_100CH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	tmpl_purchase_for_dualhead(0, 216)
}

spriteset(set_YTRO_100C_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine(60, 162)
}

spriteset(set_YTRO_100C_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F(60, 189)
}

spriteset(set_YTRO_100C_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F_r(60, 189)
}

spriteset(set_YTRO_100C_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 54)
}

spriteset(set_YTRO_100C_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 54)
}

spriteset(set_YTRO_100C_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine_r(60, 216)
}

/*--------------------------------------------------------------------
5.37.1.4. YTRO 100 D
--------------------------------------------------------------------*/
spriteset(set_YTRO_100DH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	tmpl_purchase_for_dualhead(0, 297)
}

spriteset(set_YTRO_100D_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine(60, 243)
}

spriteset(set_YTRO_100D_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F(60, 270)
}

spriteset(set_YTRO_100D_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F_r(60, 270)
}

spriteset(set_YTRO_100D_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 81)
}

spriteset(set_YTRO_100D_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 81)
}

spriteset(set_YTRO_100D_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine_r(60, 297)
}

/*--------------------------------------------------------------------
5.37.1.5. YTRO 100 E
--------------------------------------------------------------------*/
spriteset(set_YTRO_100EH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	tmpl_purchase_for_dualhead(0, 378)
}

spriteset(set_YTRO_100E_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine(60, 324)
}

spriteset(set_YTRO_100E_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F(60, 351)
}

spriteset(set_YTRO_100E_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png") {
    wagon_1F_r(60, 351)
}

spriteset(set_YTRO_100E_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 108)
}

spriteset(set_YTRO_100E_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 108)
}

spriteset(set_YTRO_100E_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_100.png"){
	engine_r(60, 378)
}

/*--------------------------------------------------------------------
5.37.2. 구매정보
-------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YTRO_100_purchase, cargo_subtype) {
    set_YTRO_100_purchase;
}

/*--------------------------------------------------------------------
5.37.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YTRO_100_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_YTRO_100B);   // YTRO 100 B도색
    2: return string(STR_REFIT_LIVERY_YTRO_100C);   // YTRO 100 C도색
    3: return string(STR_REFIT_LIVERY_YTRO_100D);   // YTRO 100 D도색
    4: return string(STR_REFIT_LIVERY_YTRO_100E);   // YTRO 100 E도색
    return string(STR_REFIT_LIVERY_YTRO_100A);
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_engineH, cargo_subtype) {
    1: set_YTRO_100B_engineH;    // YTRO 100 B도색
    2: set_YTRO_100C_engineH;    // YTRO 100 C도색
    3: set_YTRO_100D_engineH;    // YTRO 100 D도색
    4: set_YTRO_100E_engineH;    // YTRO 100 E도색
    set_YTRO_100A_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_engineT, cargo_subtype) {
    1: set_YTRO_100B_engineT;    // YTRO 100 B도색
    2: set_YTRO_100C_engineT;    // YTRO 100 C도색
    3: set_YTRO_100D_engineT;    // YTRO 100 D도색
    4: set_YTRO_100E_engineT;    // YTRO 100 E도색
    set_YTRO_100A_engineT;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_YTRO_100_engineT;
	sw_YTRO_100_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_1F_wagon_front, cargo_subtype) {
    1: set_YTRO_100B_1F_wagon;    // YTRO 100 B도색
    2: set_YTRO_100C_1F_wagon;    // YTRO 100 C도색
    3: set_YTRO_100D_1F_wagon;    // YTRO 100 D도색
    4: set_YTRO_100E_1F_wagon;    // YTRO 100 E도색
    set_YTRO_100A_1F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_1F_wagon_tail, cargo_subtype) {
    1: set_YTRO_100B_1F_wagon_r;    // YTRO 100 B도색
    2: set_YTRO_100C_1F_wagon_r;    // YTRO 100 C도색
    3: set_YTRO_100D_1F_wagon_r;    // YTRO 100 D도색
    4: set_YTRO_100E_1F_wagon_r;    // YTRO 100 E도색
    set_YTRO_100A_1F_wagon_r;
}


switch(FEAT_TRAINS, SELF, sw_YTRO_100_1F_wagon, position_in_consist) {
    1: sw_YTRO_100_1F_wagon_tail;
    sw_YTRO_100_1F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_2F_wagon_front, cargo_subtype) {
    1: set_YTRO_100B_2F_wagon;    // YTRO 100 B도색
    2: set_YTRO_100C_2F_wagon;    // YTRO 100 C도색
    3: set_YTRO_100D_2F_wagon;    // YTRO 100 D도색
    4: set_YTRO_100E_2F_wagon;    // YTRO 100 E도색
    set_YTRO_100A_2F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_2F_wagon_tail, cargo_subtype) {
    1: set_YTRO_100B_2F_wagon_r;    // YTRO 100 B도색
    2: set_YTRO_100C_2F_wagon_r;    // YTRO 100 C도색
    3: set_YTRO_100D_2F_wagon_r;    // YTRO 100 D도색
    4: set_YTRO_100E_2F_wagon_r;    // YTRO 100 E도색
    set_YTRO_100A_2F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_2F_wagon, position_in_consist) {
    1: sw_YTRO_100_2F_wagon_tail;
    sw_YTRO_100_2F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_100_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_2F_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}
/*--------------------------------------------------------------------
5.37.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, YTRO_100){
	property {
 		name:							string(STR_YTRO_100_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							150km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					80;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_YTRO_100_engine;
		purchase:						sw_YTRO_100_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_YTRO_100_wagon_attach;
        cargo_subtype_text:             sw_YTRO_100_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_YTRO_100_1F_wagon;
        cargo_subtype_text:             sw_YTRO_100_cargo_subtype_text;
        cargo_capacity:                 80;
        loading_speed:                  25;
        running_cost_factor:            100;}
        
      livery_override(YST_Passinger_2F_Car) {
        default:                        sw_YTRO_100_2F_wagon;
        cargo_subtype_text:             sw_YTRO_100_cargo_subtype_text;
        cargo_capacity:                 160;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
    
/*--------------------------------------------------------------------
5.38. YTRO 200
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.38.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_YTRO_200_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.38.1.1. YTRO 200 A
--------------------------------------------------------------------*/
spriteset(set_YTRO_200AH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 54)
}

spriteset(set_YTRO_200A_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 0)
}

spriteset(set_YTRO_200A_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 27)
}

spriteset(set_YTRO_200A_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 27)
}

spriteset(set_YTRO_200A_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 0)
}

spriteset(set_YTRO_200A_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 0)
}

spriteset(set_YTRO_200A_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 54)
}

/*--------------------------------------------------------------------
5.38.1.2. YTRO 200 B
--------------------------------------------------------------------*/
spriteset(set_YTRO_200BH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 135)
}

spriteset(set_YTRO_200B_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 81)
}

spriteset(set_YTRO_200B_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 108)
}

spriteset(set_YTRO_200B_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 108)
}

spriteset(set_YTRO_200B_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 27)
}

spriteset(set_YTRO_200B_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 27)
}

spriteset(set_YTRO_200B_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 135)
}

/*--------------------------------------------------------------------
5.38.1.3. YTRO 200 C
--------------------------------------------------------------------*/
spriteset(set_YTRO_200CH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 216)
}

spriteset(set_YTRO_200C_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 162)
}

spriteset(set_YTRO_200C_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 189)
}

spriteset(set_YTRO_200C_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 189)
}

spriteset(set_YTRO_200C_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 54)
}

spriteset(set_YTRO_200C_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 54)
}

spriteset(set_YTRO_200C_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 216)
}

/*--------------------------------------------------------------------
5.38.1.4. YTRO 200 D
--------------------------------------------------------------------*/
spriteset(set_YTRO_200DH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 297)
}

spriteset(set_YTRO_200D_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 243)
}

spriteset(set_YTRO_200D_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 270)
}

spriteset(set_YTRO_200D_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 270)
}

spriteset(set_YTRO_200D_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 81)
}

spriteset(set_YTRO_200D_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 81)
}

spriteset(set_YTRO_200D_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 297)
}

/*--------------------------------------------------------------------
5.38.1.5. YTRO_200 E
--------------------------------------------------------------------*/
spriteset(set_YTRO_200EH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 378)
}

spriteset(set_YTRO_200E_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 324)
}

spriteset(set_YTRO_200E_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 351)
}

spriteset(set_YTRO_200E_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 351)
}

spriteset(set_YTRO_200E_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 108)
}

spriteset(set_YTRO_200E_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 108)
}

spriteset(set_YTRO_200E_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 378)
}

/*--------------------------------------------------------------------
5.38.1.6. YTRO_200 F
--------------------------------------------------------------------*/
spriteset(set_YTRO_200FH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 459)
}

spriteset(set_YTRO_200F_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 405)
}

spriteset(set_YTRO_200F_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 432)
}

spriteset(set_YTRO_200F_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 432)
}

spriteset(set_YTRO_200F_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 135)
}

spriteset(set_YTRO_200F_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 135)
}

spriteset(set_YTRO_200F_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 459)
}

/*--------------------------------------------------------------------
5.38.1.7. YTRO_200 G
--------------------------------------------------------------------*/
spriteset(set_YTRO_200GH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 540)
}

spriteset(set_YTRO_200G_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 486)
}

spriteset(set_YTRO_200G_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 513)
}

spriteset(set_YTRO_200G_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 513)
}

spriteset(set_YTRO_200G_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 162)
}

spriteset(set_YTRO_200G_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 162)
}

spriteset(set_YTRO_200G_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 540)
}

/*--------------------------------------------------------------------
5.38.1.8. YTRO_200 H
--------------------------------------------------------------------*/
spriteset(set_YTRO_200HH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 621)
}

spriteset(set_YTRO_200H_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 567)
}

spriteset(set_YTRO_200H_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 594)
}

spriteset(set_YTRO_200H_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 594)
}

spriteset(set_YTRO_200H_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 189)
}

spriteset(set_YTRO_200H_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 189)
}

spriteset(set_YTRO_200H_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 621)
}

/*--------------------------------------------------------------------
5.38.1.9. YTRO_200 I
--------------------------------------------------------------------*/
spriteset(set_YTRO_200IH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 702)
}

spriteset(set_YTRO_200I_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 648)
}

spriteset(set_YTRO_200I_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 675)
}

spriteset(set_YTRO_200I_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 675)
}

spriteset(set_YTRO_200I_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 216)
}

spriteset(set_YTRO_200I_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 216)
}

spriteset(set_YTRO_200I_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 702)
}

/*--------------------------------------------------------------------
5.38.1.10. YTRO_200 J
--------------------------------------------------------------------*/
spriteset(set_YTRO_200JH_purchase, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	tmpl_purchase_for_dualhead(0, 783)
}

spriteset(set_YTRO_200J_engineH, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine(60, 729)
}

spriteset(set_YTRO_200J_1F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F(60, 756)
}

spriteset(set_YTRO_200J_1F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png") {
    wagon_1F_r(60, 756)
}

spriteset(set_YTRO_200J_2F_wagon, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F(60, 243)
}

spriteset(set_YTRO_200J_2F_wagon_r, "..\YSTset\Graphic\locomotive\YTRO\YTRO_2F.png") {
    wagon_2F_r(60, 243)
}

spriteset(set_YTRO_200J_engineT, "..\YSTset\Graphic\locomotive\YTRO\YTRO_200.png"){
	engine_r(60, 783)
}


/*--------------------------------------------------------------------
5.37.2. 구매정보
-------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YTRO_200_purchase, cargo_subtype) {
    set_YTRO_200_purchase;
}

/*--------------------------------------------------------------------
5.37.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YTRO_200_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_YTRO_200B);   // YTRO 200 B도색
    2: return string(STR_REFIT_LIVERY_YTRO_200C);   // YTRO 200 C도색
    3: return string(STR_REFIT_LIVERY_YTRO_200D);   // YTRO 200 D도색
    4: return string(STR_REFIT_LIVERY_YTRO_200E);   // YTRO 200 E도색
    5: return string(STR_REFIT_LIVERY_YTRO_200F);   // YTRO 200 F도색
    6: return string(STR_REFIT_LIVERY_YTRO_200G);   // YTRO 200 G도색
    7: return string(STR_REFIT_LIVERY_YTRO_200H);   // YTRO 200 H도색
    8: return string(STR_REFIT_LIVERY_YTRO_200I);   // YTRO 200 I도색
    9: return string(STR_REFIT_LIVERY_YTRO_200J);   // YTRO 200 J도색
    return string(STR_REFIT_LIVERY_YTRO_200A);
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_engineH, cargo_subtype) {
    1: set_YTRO_200B_engineH;    // YTRO 200 B도색
    2: set_YTRO_200C_engineH;    // YTRO 200 C도색
    3: set_YTRO_200D_engineH;    // YTRO 200 D도색
    4: set_YTRO_200E_engineH;    // YTRO 200 E도색
    5: set_YTRO_200F_engineH;    // YTRO 200 F도색
    6: set_YTRO_200G_engineH;    // YTRO 200 G도색
    7: set_YTRO_200H_engineH;    // YTRO 200 H도색
    8: set_YTRO_200I_engineH;    // YTRO 200 I도색
    9: set_YTRO_200J_engineH;    // YTRO 200 J도색
    set_YTRO_200A_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_engineT, cargo_subtype) {
    1: set_YTRO_200B_engineT;    // YTRO 200 B도색
    2: set_YTRO_200C_engineT;    // YTRO 200 C도색
    3: set_YTRO_200D_engineT;    // YTRO 200 D도색
    4: set_YTRO_200E_engineT;    // YTRO 200 E도색
    5: set_YTRO_200F_engineT;    // YTRO 200 F도색
    6: set_YTRO_200G_engineT;    // YTRO 200 G도색
    7: set_YTRO_200H_engineT;    // YTRO 200 H도색
    8: set_YTRO_200I_engineT;    // YTRO 200 I도색
    9: set_YTRO_200J_engineT;    // YTRO 200 J도색
    set_YTRO_200A_engineT;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_YTRO_200_engineT;
	sw_YTRO_200_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_1F_wagon_front, cargo_subtype) {
    1: set_YTRO_200B_1F_wagon;    // YTRO 200 B도색
    2: set_YTRO_200C_1F_wagon;    // YTRO 200 C도색
    3: set_YTRO_200D_1F_wagon;    // YTRO 200 D도색
    4: set_YTRO_200E_1F_wagon;    // YTRO 200 E도색
    5: set_YTRO_200F_1F_wagon;    // YTRO 200 F도색
    6: set_YTRO_200G_1F_wagon;    // YTRO 200 G도색
    7: set_YTRO_200H_1F_wagon;    // YTRO 200 H도색
    8: set_YTRO_200I_1F_wagon;    // YTRO 200 I도색
    9: set_YTRO_200J_1F_wagon;    // YTRO 200 J도색
    set_YTRO_200A_1F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_1F_wagon_tail, cargo_subtype) {
    1: set_YTRO_200B_1F_wagon_r;    // YTRO 200 B도색
    2: set_YTRO_200C_1F_wagon_r;    // YTRO 200 C도색
    3: set_YTRO_200D_1F_wagon_r;    // YTRO 200 D도색
    4: set_YTRO_200E_1F_wagon_r;    // YTRO 200 E도색
    5: set_YTRO_200F_1F_wagon_r;    // YTRO 200 F도색
    6: set_YTRO_200G_1F_wagon_r;    // YTRO 200 G도색
    7: set_YTRO_200H_1F_wagon_r;    // YTRO 200 H도색
    8: set_YTRO_200I_1F_wagon_r;    // YTRO 200 I도색
    9: set_YTRO_200J_1F_wagon_r;    // YTRO 200 J도색
    set_YTRO_200A_1F_wagon_r;
}


switch(FEAT_TRAINS, SELF, sw_YTRO_200_1F_wagon, position_in_consist) {
    1: sw_YTRO_200_1F_wagon_tail;
    sw_YTRO_200_1F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_2F_wagon_front, cargo_subtype) {
    1: set_YTRO_200B_2F_wagon;    // YTRO 200 B도색
    2: set_YTRO_200C_2F_wagon;    // YTRO 200 C도색
    3: set_YTRO_200D_2F_wagon;    // YTRO 200 D도색
    4: set_YTRO_200E_2F_wagon;    // YTRO 200 E도색
    5: set_YTRO_200F_2F_wagon;    // YTRO 200 F도색
    6: set_YTRO_200G_2F_wagon;    // YTRO 200 G도색
    7: set_YTRO_200H_2F_wagon;    // YTRO 200 H도색
    8: set_YTRO_200I_2F_wagon;    // YTRO 200 I도색
    9: set_YTRO_200J_2F_wagon;    // YTRO 200 J도색
    set_YTRO_200A_2F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_2F_wagon_tail, cargo_subtype) {
    1: set_YTRO_200B_2F_wagon_r;    // YTRO 200 B도색
    2: set_YTRO_200C_2F_wagon_r;    // YTRO 200 C도색
    3: set_YTRO_200D_2F_wagon_r;    // YTRO 200 D도색
    4: set_YTRO_200E_2F_wagon_r;    // YTRO 200 E도색
    5: set_YTRO_200F_2F_wagon_r;    // YTRO 200 F도색
    6: set_YTRO_200G_2F_wagon_r;    // YTRO 200 G도색
    7: set_YTRO_200H_2F_wagon_r;    // YTRO 200 H도색
    8: set_YTRO_200I_2F_wagon_r;    // YTRO 200 I도색
    9: set_YTRO_200J_2F_wagon_r;    // YTRO 200 J도색
    set_YTRO_200A_2F_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_2F_wagon, position_in_consist) {
    1: sw_YTRO_200_2F_wagon_tail;
    sw_YTRO_200_2F_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_YTRO_200_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_2F_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.37.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, YTRO_200){
	property {
 		name:							string(STR_YTRO_200_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							150km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					80;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_YTRO_200_engine;
		purchase:						sw_YTRO_200_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_YTRO_200_wagon_attach;
        cargo_subtype_text:             sw_YTRO_200_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_YTRO_200_1F_wagon;
        cargo_subtype_text:             sw_YTRO_200_cargo_subtype_text;
        cargo_capacity:                 80;
        loading_speed:                  25;
        running_cost_factor:            100;}
        
      livery_override(YST_Passinger_2F_Car) {
        default:                        sw_YTRO_200_2F_wagon;
        cargo_subtype_text:             sw_YTRO_200_cargo_subtype_text;
        cargo_capacity:                 160;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.38. YTX
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.38.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_YTX_purchase, "..\YSTset\Graphic\locomotive\YTX\YTX.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_YTXH_purchase, "..\YSTset\Graphic\locomotive\YTX\YTX.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_YTX_engineH, "..\YSTset\Graphic\locomotive\YTX\YTX.png"){
	engine(60, 0)
}

spriteset(set_YTX_wagon_start, "..\YSTset\Graphic\locomotive\YTX\YTX.png"){
	wagon_start(60, 27)
}

spriteset(set_YTX_wagon, "..\YSTset\Graphic\locomotive\YTX\YTX.png") {
    wagon_1F(60, 54)
}

spriteset(set_YTX_wagon_r, "..\YSTset\Graphic\locomotive\YTX\YTX.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_YTX_wagon_end, "..\YSTset\Graphic\locomotive\YTX\YTX.png"){
	wagon_start(60, 81)
}

spriteset(set_YTX_engineT, "..\YSTset\Graphic\locomotive\YTX\YTX.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.38.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YTX_purchase, cargo_subtype) {
    set_YTX_purchase;
}

/*--------------------------------------------------------------------
5.38.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_YTX_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_YTX_engineT;
	set_YTX_engineH;
}

switch(FEAT_TRAINS, SELF, sw_YTX_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    YTX: set_YTX_wagon_end;
    sw_Passenge_1F_wagon;
}

switch(FEAT_TRAINS, SELF, sw_YTX_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    YTX: set_YTX_wagon_start;
    sw_YTX_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_YTX_wagon_attach, vehicle_type_id) {
    YTX:        return CB_RESULT_ATTACH_ALLOW;
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.38.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, YTX){
	property {
 		name:							string(STR_YTX_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2020, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							331km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					30;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
	graphics {
		default:						sw_YTX_engine;
		purchase:						sw_YTX_purchase;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_YTX_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_YTX);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_YTX_wagon;
        cargo_capacity:                 50;
        loading_speed:                  25;
        running_cost_factor:            100;}
        }
        
/*--------------------------------------------------------------------
5.39. ZEFIRO380
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.39.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_ZEFIRO380_purchase, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	tmpl_purchase(0, 0)
}

/*--------------------------------------------------------------------
5.39.1.1. ZEFIRO380
--------------------------------------------------------------------*/
spriteset(set_ZEFIRO380H_purchase, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_ZEFIRO380_engineH, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	engine(60, 0)
}

spriteset(set_ZEFIRO380_wagon_start, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	wagon_start(60, 27)
}

spriteset(set_ZEFIRO380_wagon, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png") {
    wagon_1F(60, 54)
}

spriteset(set_ZEFIRO380_wagon_r, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_ZEFIRO380_wagon_end, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	wagon_start(60, 81)
}

spriteset(set_ZEFIRO380_engineT, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.39.1.2. ZEFIRO380 Cool
--------------------------------------------------------------------*/
spriteset(set_ZEFIRO380_CoolH_purchase, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	tmpl_purchase_for_dualhead(0, 243)
}

spriteset(set_ZEFIRO380_Cool_engineH, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	engine(60, 135)
}

spriteset(set_ZEFIRO380_Cool_wagon_start, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	wagon_start(60, 162)
}

spriteset(set_ZEFIRO380_Cool_wagon, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png") {
    wagon_1F(60, 189)
}

spriteset(set_ZEFIRO380_Cool_wagon_r, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png") {
    wagon_1F_r(60, 189)
}

spriteset(set_ZEFIRO380_Cool_wagon_end, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	wagon_start(60, 216)
}

spriteset(set_ZEFIRO380_Cool_engineT, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	engine_r(60, 243)
}

/*--------------------------------------------------------------------
5.39.1.3. ZEFIRO380 Black
--------------------------------------------------------------------*/
spriteset(set_ZEFIRO380_BlackH_purchase, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_ZEFIRO380_Black_engineH, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	engine(60, 270)
}

spriteset(set_ZEFIRO380_Black_wagon_start, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	wagon_start(60, 297)
}

spriteset(set_ZEFIRO380_Black_wagon, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png") {
    wagon_1F(60, 324)
}

spriteset(set_ZEFIRO380_Black_wagon_r, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png") {
    wagon_1F_r(60, 324)
}

spriteset(set_ZEFIRO380_Black_wagon_end, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	wagon_start(60, 351)
}

spriteset(set_ZEFIRO380_Black_engineT, "..\YSTset\Graphic\locomotive\ZEFIRO380\ZEFIRO380.png"){
	engine_r(60, 378)
}

/*--------------------------------------------------------------------
5.39.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_purchase, cargo_subtype) {
    set_ZEFIRO380_purchase;
}

/*--------------------------------------------------------------------
5.39.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_cargo_subtype_text, cargo_subtype) {
    1: return string(STR_REFIT_LIVERY_ZEFIRO380_Cool);           
    2: return string(STR_REFIT_LIVERY_ZEFIRO380_Black);           
    return string(STR_REFIT_LIVERY_ZEFIRO380);
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_engineH, cargo_subtype) {
    1: set_ZEFIRO380_Cool_engineH;
    2: set_ZEFIRO380_Black_engineH;
    set_ZEFIRO380_engineH;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_engineT, cargo_subtype) {
    1: set_ZEFIRO380_Cool_engineT;
    2: set_ZEFIRO380_Black_engineT;
    set_ZEFIRO380_engineT;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: sw_ZEFIRO380_engineT;
	sw_ZEFIRO380_engineH;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_start, cargo_subtype) {
    1: set_ZEFIRO380_Cool_wagon_start;
    2: set_ZEFIRO380_Black_wagon_start;
    set_ZEFIRO380_wagon_start;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_front, cargo_subtype) {
    1: set_ZEFIRO380_Cool_wagon;
    2: set_ZEFIRO380_Black_wagon;
    set_ZEFIRO380_wagon;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_tail, cargo_subtype) {
    1: set_ZEFIRO380_Cool_wagon_r;
    2: set_ZEFIRO380_Black_wagon_r;
    set_ZEFIRO380_wagon_r;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_end, cargo_subtype) {
    1: set_ZEFIRO380_Cool_wagon_end;
    2: set_ZEFIRO380_Black_wagon_end;
    set_ZEFIRO380_wagon_end;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_speed, cargo_subtype) {
    0: return 380;
    1: return 428;
    2: return 597;
    return 380;
}


switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_middle, (position_in_consist)) {
    1: sw_ZEFIRO380_wagon_tail;
    sw_ZEFIRO380_wagon_front;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_rear, [STORE_TEMP(1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    ZEFIRO380: sw_ZEFIRO380_wagon_end;
    sw_ZEFIRO380_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon, [STORE_TEMP(-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    ZEFIRO380: sw_ZEFIRO380_wagon_start;
    sw_ZEFIRO380_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_ZEFIRO380_wagon_attach, vehicle_type_id) {
   ZEFIRO380:              return CB_RESULT_ATTACH_ALLOW;
   YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.39.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, ZEFIRO380){
	property {
 		name:                            string(STR_ZEFIRO380_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2014, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							380km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					54;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_FLIP, TRAIN_FLAG_MU,TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
        }
	graphics {
		default:						sw_ZEFIRO380_engine;
		purchase:						sw_ZEFIRO380_purchase;
        speed:							sw_ZEFIRO380_speed;
        loading_speed:					25;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_ZEFIRO380_wagon_attach;
        cargo_subtype_text:             sw_ZEFIRO380_cargo_subtype_text;
        start_stop:                     sw_YST_train_start_stop;
        additional_text:                string(STR_REFIT_ADDITIONAL_ABLE_ZEFIRO380);
}

    livery_override(YST_Passinger_Car) {
        default:                        sw_ZEFIRO380_wagon;
        cargo_subtype_text:             sw_ZEFIRO380_cargo_subtype_text;
        cargo_capacity:                 90;
        loading_speed:                  25;
        running_cost_factor:            150;}
        }

/*--------------------------------------------------------------------
5.40. 닥터엘로우
--------------------------------------------------------------------*/
/*--------------------------------------------------------------------
5.25.1 Graphics
--------------------------------------------------------------------*/
spriteset(set_DRY700_purchase, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png"){
	tmpl_purchase(0, 0)
}

spriteset(set_DRY700H_purchase, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png"){
	tmpl_purchase_for_dualhead(0, 108)
}

spriteset(set_DRY700_engineH, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png"){
	engine(60, 0)
}

spriteset(set_DRY700_wagon_start, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png"){
	wagon_panto(60, 27)
}

spriteset(set_DRY700_wagon, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png") {
    wagon_1F(60, 54)
}

spriteset(set_DRY700_wagon_r, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png") {
    wagon_1F_r(60, 54)
}

spriteset(set_DRY700_wagon_end, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png"){
	wagon_panto(60, 81)
}

spriteset(set_DRY700_engineT, "..\YSTset\Graphic\locomotive\N700\Dr_Yellow.png"){
	engine_r(60, 108)
}

/*--------------------------------------------------------------------
5.25.2. 구매정보
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_DRY700_purchase, cargo_subtype) {
    set_DRY700_purchase;
}

/*--------------------------------------------------------------------
5.25.3. 스위치
--------------------------------------------------------------------*/
switch(FEAT_TRAINS, SELF, sw_DRY700_engine, position_in_consist_from_end == 0 && num_vehs_in_consist > 1){
	1: set_DRY700_engineT;
	set_DRY700_engineH;
}

switch(FEAT_TRAINS, SELF, sw_DRY700_wagon_middle, (position_in_consist)) {
    1: set_DRY700_wagon_r;
    set_DRY700_wagon;
}

switch(FEAT_TRAINS, SELF, sw_DRY700_wagon_rear, [STORE_TEMP(4, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
    DRY700: set_DRY700_wagon_end;
    sw_DRY700_wagon_middle;
}

switch(FEAT_TRAINS, SELF, sw_DRY700_wagon, [STORE_TEMP(-4, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]) {
    DRY700: set_DRY700_wagon_start;
    sw_DRY700_wagon_rear;
}

switch(FEAT_TRAINS, SELF, sw_DRY700_wagon_attach, vehicle_type_id) {
    YST_Passinger_Car:        return CB_RESULT_ATTACH_ALLOW;
    return string(STR_ERROR_NO_ATTACH);
}

/*--------------------------------------------------------------------
5.25.4 열차정보
--------------------------------------------------------------------*/
item(FEAT_TRAINS, DRY700){
	property {
 		name:							string(STR_DRY700_NAME);
 		climates_available:				ALL_CLIMATES;
		introduction_date:				date(2007, 1, 1);
        track_type:						RAIL;
        engine_class:					ENGINE_CLASS_ELECTRIC;
		sprite_id:						SPRITE_ID_NEW_TRAIN;
        dual_headed:                    1;        
        
        //spec
		speed:							600km/h;
		power:							10000 kW;
		weight:							35 ton;
		tractive_effort_coefficient:	0.3;
        air_drag_coefficient:           0.01;
        
        //Model
        model_life:						VEHICLE_NEVER_EXPIRES;
        vehicle_life:					255;
        retire_early:					0;
		reliability_decay:				0;
        
        //Cargo
        cargo_capacity:					1;
        refittable_cargo_classes:		bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:	bitmask();
        
        //Costs
        refit_cost:						0;
        running_cost_base:				RUNNING_COST_ELECTRIC;
        
        
        //Flags
        misc_flags:						bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_AUTOREFIT);
        extra_weight_per_wagon:			35 ton;
    }
    
	graphics {
		default:						sw_DRY700_engine;
		purchase:						sw_DRY700_purchase;
		cost_factor:					10;
		running_cost_factor:			150;
        can_attach_wagon:               sw_DRY700_wagon_attach;
        start_stop:                     sw_YST_train_start_stop;
		additional_text:                string(STR_REFIT_ADDITIONAL_UNABLE_UNADDTRAIN);
        }

    livery_override(YST_Passinger_Car) {
        default:                        sw_DRY700_wagon;
        cargo_capacity:                 0;
        running_cost_factor:            0;}
        }
                
/*--------------------------------------------------------------------
6. 정렬
--------------------------------------------------------------------*/
sort(FEAT_TRAINS, [
	S500,
    S800,
	AGV,
	AVE,
    AVE_Velaro,
	CR600,
	CRH1,
    CRH3,
	CRH380A,
    CRH380A_Test,
    DRY700,
	E5,
    E6,
	E7,
    E300,
    E320,
	EMU,
    Glory_600,
	HEMU,
	HMX,
	ICE3,
    ICE_SP,
    KTX_N,
    N700,
    NKX,
	TALGO,
    TGV_OLD,
    TGV_OLD_Pos,
    TGV_Pos,
    TGV_OLD_Duplex,
    TGV_Duplex,
    TGV_Ouigo,
    VTX,
    YFX,
    YN,
    YTRO_100,
    YTRO_200,
    YTX,
	ZEFIRO380,
			
    YST_Passinger_Car,
    YST_Passinger_2F_Car,
    YFXF,
	]);